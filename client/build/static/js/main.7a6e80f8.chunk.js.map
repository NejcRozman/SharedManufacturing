{"version":3,"sources":["assets/balance.png","assets/stake.png","assets/login.svg","context/context.js","components/auth/AuthOptions.js","components/layout/Navbar.js","links.js","components/misc/CreateOrderModal.js","components/layout/Sidebar.js","components/misc/Modal.js","components/misc/ServiceBar.js","components/misc/ServiceLoading.js","components/misc/Stats.js","components/pages/Home.js","components/auth/Login.js","components/misc/BarChart.js","components/misc/ToggleSwitch.js","components/misc/Trades.js","components/misc/TradeModal.js","components/misc/CancelOrderModal.js","components/pages/Trade.js","components/misc/PieChart.js","components/misc/MiningBar.js","components/misc/TransactionsTable.js","components/misc/AllTransactionsTable.js","components/misc/BlockchainData.js","components/misc/ConfirmModal.js","components/pages/Blockchain.js","components/misc/RankingTable.js","components/pages/Ranking.js","components/pages/Error.js","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","AppProvider","children","useState","isGameOn","setIsGameOn","isConfirmModalOpen","setIsConfirmModalOpen","isStakeModalOpen","setIsStakeModalOpen","isTradeModalOpen","setIsTradeModalOpen","isCancelOrderModalOpen","setIsCancelOrderModalOpen","isCreateOrderModalOpen","setIsCreateOrderModalOpen","isAlertOpen","setIsAlertOpen","modalContent","setModalContent","confirmModalContent","setConfirmModalContent","tradeModalContent","setTradeModalContent","cancelOrderModalContent","setCancelOrderModalContent","token","undefined","player","otherPrices","pendingTrades","requestedTrades","allPendingTransactions","totalStake","gameData","setGameData","Provider","value","clearGameData","openConfirmModal","closeConfirmModal","openStakeModal","closeStakeModal","openTradeModal","closeTradeModal","openCancelOrderModal","closeCancelOrderModal","openCreateOrderModal","closeCreateOrderModal","openAlert","closeAlert","useGlobalContext","useContext","AuthOptions","history","useHistory","className","onClick","localStorage","setItem","window","location","reload","push","Navbar","useEffect","timer","setTimeout","clearTimeout","href","links","id","url","text","icon","CreateOrderModal","price","setPrice","showAlert","setShowAlert","alertContent","setAlertContent","confirm","a","isNaN","Math","floor","toString","split","length","parseInt","amountOfAvailableService","getItem","playerId","data","amountOfService","options","headers","Authorization","Axios","post","document","getElementById","response","message","changePriceInput","e","target","err","console","log","htmlFor","type","name","placeholder","onChange","Sidebar","orderExists","setOrderExists","relativeStake","setRelativeStake","tableDataArray","setTableDataArray","orderNotExists","order","orders","filter","item","provider","_id","Array","isArray","newRelativeStake","stake","toFixed","players","sort","b","upgradeNumber","slice","playersArray","renderTableData","map","link","key","to","style","color","fontSize","balance","amountOfOtherService1","typeOfOtherService1","amountOfOtherService2","typeOfOtherService2","index","background","playerName","Modal","ServiceBar","serviceCompleted","setServiceCompleted","timeLeft","setTimeLeft","millisToMinutesAndSeconds","millis","d","Date","round","getUTCMinutes","getUTCSeconds","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","services","service","newServiceCompleted","now","serviceTimestamp","timeForService","width","ServiceLoading","consumer","typeOfService","relativeTime","calculateTimeLeft","data-tip","data-for","place","effect","Stats","serviceDataArray","setServiceDataArray","Promise","all","consumerObject","providerObject","serviceArray","renderServiceData","src","balanceImg","alt","stakeImg","nextTimeForService","Home","checkLoggedInAndGame","Login","setPlayerName","password","setPassword","submit","preventDefault","loginPlayer","loginRes","go","loginImg","BarChart","dataArray","modifiedData","checked","millisToMinutesAndSecondsShort","realData","setTradeModal","onMouseEnter","event","cursor","mouseHover","keys","indexBy","margin","top","right","bottom","left","padding","valueScale","theme","fontFamily","axis","legend","fontWeight","colors","borderColor","from","modifiers","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","axisLeft","legendPosition","legendOffset","tickValues","tooltip","renderTooltip","label","renderLabel","labelSkipWidth","labelSkipHeight","labelTextColor","animate","motionStiffness","motionDamping","SwitchToggle","nextChecked","onColor","onHandleColor","handleDiameter","uncheckedIcon","checkedIcon","boxShadow","activeBoxShadow","height","Trade","dataArray1","setDataArray1","dataArray2","setDataArray2","dataArray3","setDataArray3","modifiedDataArray1","setModifiedDataArray1","modifiedDataArray2","setModifiedDataArray2","modifiedDataArray3","setModifiedDataArray3","checked1","setChecked1","checked2","setChecked2","checked3","setChecked3","millisToFloat","array1","array2","array3","forEach","modifiedArray1","modifiedArray2","modifiedArray3","sortDataArrays","ToggleSwitch","TradeModal","txFee","setTxFee","orderId","changeFeeInput","transactions","transactionsArray","CancelOrderModal","delete","Trades","CenteredMetric","dataWithArc","centerX","centerY","total","x","y","textAnchor","dominantBaseline","PieChart","innerRadius","padAngle","cornerRadius","scheme","borderWidth","enableRadialLabels","sliceLabelsSkipAngle","sliceLabelsTextColor","sortByValue","layers","MiningBar","setWidth","miningTime","getTime","createdMillis","TransactionsTable","AllTransactionsTable","sortBy","setSortBy","orderOfSort","setOrderOfSort","isChecked","checkBoxes","setCheckBoxes","displayTime","time","toLocaleTimeString","sortDataArray","arrayA","createdAt","timeA","arrayB","timeB","textA","toUpperCase","textB","selectOne","itemName","newArray","filterDataArray","checkedBoxes","selectedTypes","includes","allTransactions","timeString","filteredTransactionsArray","BlockchainData","chartDataArray","setChartDataArray","newStake","setNewStake","countDecimals","confirmStake","confirmUnstake","unstake","changeStakeInput","createDataArray","backgroundColor","ConfirmModal","transactionId","tradeId","Blockchain","RankingTable","fromServiceBalance","fromStakeBalance","Ranking","Error","defaults","baseURL","App","socket","setSocket","socketConnected","useCallback","sessionID","emit","initialData","startGame","prevState","newData","endGame","createOrder","deleteOrder","obj","updateBalance","amount","elementsIndex","findIndex","el","deleteTransaction","intended","createTransaction","some","createService","deleteService","updateAvailableService","updateOtherService1","updateOtherService2","updateStake","reduce","updateTime","initialTime","initialTimeForService","updateServiceTime","updateProduction","newTimeForService","newNextTimeForService","service1","service2","addAllTransaction","updateUpgrade","newSocket","io","query","auth","close","connectSocket","on","off","exact","path","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7a6e80f8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/balance.6040daaf.png\";","module.exports = __webpack_public_path__ + \"static/media/stake.70483a2e.png\";","module.exports = __webpack_public_path__ + \"static/media/login.9a76e74e.svg\";","import React, { useState, useContext } from 'react'\n\nconst AppContext = React.createContext();\n\nconst AppProvider = ({children}) => {\n    const [isGameOn, setIsGameOn] = useState(false);\n    const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\n    const [isStakeModalOpen, setIsStakeModalOpen] = useState(false);\n    const [isTradeModalOpen, setIsTradeModalOpen] = useState(false);\n    const [isCancelOrderModalOpen, setIsCancelOrderModalOpen] = useState(false);\n    const [isCreateOrderModalOpen, setIsCreateOrderModalOpen] = useState(false);\n    const [isAlertOpen, setIsAlertOpen] = useState(false);\n\n    const [modalContent, setModalContent] = useState('');\n    const [confirmModalContent, setConfirmModalContent] = useState('');\n    const [tradeModalContent, setTradeModalContent] = useState('');\n    const [cancelOrderModalContent, setCancelOrderModalContent] = useState('');\n\n    const [gameData, setGameData] = useState({\n        token: undefined,\n        player: undefined,\n        otherPrices: undefined,\n        pendingTrades: undefined,\n        requestedTrades: undefined,\n        allPendingTransactions: undefined,\n        totalStake: undefined\n    });\n\n    const clearGameData = () => {\n        setGameData({\n            token: undefined,\n            player: undefined,\n            otherPrices: undefined,\n            pendingTrades: undefined,\n            requestedTrades: undefined,\n            allPendingTransactions: undefined,\n            totalStake: undefined\n        });\n    };\n\n    const openConfirmModal = () => {\n        setIsConfirmModalOpen(true);\n    };\n    const closeConfirmModal = () => {\n        setIsConfirmModalOpen(false);\n    };\n\n    const openStakeModal = () => {\n        setIsStakeModalOpen(true);\n    };\n    const closeStakeModal = () => {\n        setIsStakeModalOpen(false);\n    };\n\n    const openTradeModal = () => {\n        setIsTradeModalOpen(true);\n    };\n    const closeTradeModal = () => {\n        setIsTradeModalOpen(false);\n    };\n\n    const openCancelOrderModal = () => {\n        setIsCancelOrderModalOpen(true);\n    };\n    const closeCancelOrderModal = () => {\n        setIsCancelOrderModalOpen(false);\n    };\n\n    const openCreateOrderModal = () => {\n        setIsCreateOrderModalOpen(true);\n    };\n    const closeCreateOrderModal = () => {\n        setIsCreateOrderModalOpen(false);\n    };\n\n    const openAlert = () => {\n        setIsAlertOpen(true);\n    };\n    const closeAlert = () => {\n        setIsAlertOpen(false);\n    };\n\n\n    return (\n        <AppContext.Provider value={{\n            isGameOn,\n            setIsGameOn,\n            gameData,\n            setGameData,\n            clearGameData,\n            modalContent,\n            setModalContent,\n            openConfirmModal,\n            closeConfirmModal,\n            confirmModalContent,\n            setConfirmModalContent,\n            isConfirmModalOpen,\n            openStakeModal,\n            closeStakeModal,\n            isStakeModalOpen,\n            openTradeModal,\n            closeTradeModal,\n            tradeModalContent,\n            setTradeModalContent,\n            isTradeModalOpen,\n            openCancelOrderModal,\n            closeCancelOrderModal,\n            cancelOrderModalContent,\n            setCancelOrderModalContent,\n            isCancelOrderModalOpen,\n            openCreateOrderModal,\n            closeCreateOrderModal,\n            isCreateOrderModalOpen,\n            isAlertOpen,\n            openAlert,\n            closeAlert\n        }}>\n            {children}\n        </AppContext.Provider>\n    )\n};\n\n\n\nexport const useGlobalContext = () => {\n    return useContext(AppContext)\n};\n\nexport {AppContext, AppProvider}","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {useGlobalContext} from \"../../context/context\";\n\nexport default function AuthOptions () {\n    const {gameData, clearGameData} = useGlobalContext();\n    const history = useHistory();\n\n    const login = () => history.push(\"/login\");\n    const logout = () => {\n        clearGameData();\n        localStorage.setItem(\"auth-token\", \"\");\n        localStorage.setItem(\"playerId\", \"\");\n        window.location.reload(false);\n    };\n\n    return (\n        <nav>\n            {\n                gameData.player ? (\n                    <button className=\"nav-btn\" onClick={logout}>Log out</button>\n                ) : (\n                    <>\n                        <button className=\"nav-btn\" onClick={login}>Log in</button>\n                    </>\n                )\n            }\n        </nav>\n    )\n};\n","import React, { useEffect }  from 'react';\nimport { useGlobalContext} from \"../../context/context\";\n\nimport AuthOptions from '../auth/AuthOptions'\n\nconst Navbar = () => {\n    const { isAlertOpen, closeAlert } = useGlobalContext();\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            closeAlert();\n        }, 10000);\n        return () => clearTimeout(timer);\n    }, [isAlertOpen]);\n\n    return (\n        <nav>\n            <div className={\"nav-center\"}>\n                <div className='nav-header'>\n                    <div>\n                        <h2 className={\"nav-heading\"}>\n                            <a href={'/'}>SharedManufacturing</a>\n                        </h2>\n                    </div>\n                    <div>\n                        {\n                            isAlertOpen ? (\n                                <div className=\"event-alert\">\n                                    <p>Your order was canceled!</p>\n                                </div>\n                            ) : (\n                                <></>\n                            )\n                        }\n                    </div>\n                    <div className='nav-links-container'>\n                        <ul>\n                            <AuthOptions/>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </nav>\n    )\n};\n\nexport default Navbar\n","import React from 'react';\nimport {\n    FaHome,\n    FaUserFriends,\n    FaChartPie,\n    FaChartBar\n} from 'react-icons/fa';\nexport const links = [\n    {\n        id: 1,\n        url: '/',\n        text: 'Home',\n        icon: <FaHome />,\n    },\n    {\n        id: 2,\n        url: '/trade',\n        text: 'Trade',\n        icon: <FaUserFriends />,\n    },\n    {\n        id: 3,\n        url: '/blockchain',\n        text: 'Blockchain',\n        icon: <FaChartPie />,\n    },\n    {\n        id: 4,\n        url: '/ranking',\n        text: 'Ranking',\n        icon: <FaChartBar />,\n    }\n];\n","import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaTimes } from 'react-icons/fa';\nimport Axios from \"axios/index\";\n\nconst CreateOrderModal = () => {\n    const { gameData, isCreateOrderModalOpen, closeCreateOrderModal } = useGlobalContext();\n    const [price, setPrice] = useState(\"0\");\n    const [showAlert, setShowAlert] = useState(false);\n    const [alertContent, setAlertContent] = useState('');\n\n    const countDecimals = (value) => {\n        if(Math.floor(value).toString() === value) return 0;\n        return value.toString().split(\".\")[1].length || 0;\n    };\n\n    const confirm = async () => {\n        try {\n            if (price === undefined || price === \"\") {\n                setAlertContent('You must enter a value');\n                setShowAlert(true);\n            } else {\n                if (isNaN(price) || price < 0) {\n                    setAlertContent('Input must be a non-negative number');\n                    setShowAlert(true);\n                } else {\n                    if (countDecimals(price) > 0) {\n                        setAlertContent('Input value must be an integer');\n                        setShowAlert(true);\n                    } else {\n                        if (parseInt(price) > 30000) {\n                            setAlertContent('Maximum price in this game is 30000');\n                            setShowAlert(true);\n                        } else {\n                            if (gameData.player.amountOfAvailableService === 0) {\n                                setAlertContent('Amount of available services is too low');\n                                setShowAlert(true);\n                            } else {\n                                const token = localStorage.getItem(\"auth-token\");\n                                const playerId = localStorage.getItem(\"playerId\");\n                                const data = {\n                                    amountOfService: 1,\n                                    price: price\n                                };\n                                const options = {\n                                    headers: {\n                                        Authorization: \"Bearer \" + token\n                                    }\n                                };\n                                const createRes =  await Axios.post(`/player/createOrder/${playerId}`, data, options);\n                                closeCreateOrderModal();\n                                setAlertContent('');\n                                setShowAlert(false);\n                                setPrice();\n                                document.getElementById(\"priceInput\").value= \"\";\n                            }\n                        }\n                    }\n                }\n            }\n        } catch(err) {\n            if (err.response !== undefined && err.response.data.message === \"Trade already exists\") {\n                setAlertContent('Trade with this person already exists');\n                setShowAlert(true);\n            }\n        }\n    };\n\n    const changePriceInput = async (e) => {\n        try {\n            if (e.target.value === \"\") {\n                setPrice(\"0\");\n            } else {\n                setPrice(e.target.value)\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n\n    return (\n        <div\n            className={\n                `${isCreateOrderModalOpen ? 'modal-confirm-overlay show-modal-confirm' : 'modal-confirm-overlay'}`\n            }\n        >\n            <div className='modal-confirm-container'>\n                <h3>Set Price</h3>\n                <div className={\"modal-input-group\"}>\n                    <label htmlFor={\"price\"}>Price</label>\n                    <div className=\"modal-input-group-container\">\n                        <input type={\"text\"} name={\"price\"} id={\"priceInput\"} placeholder={\"Enter price\"} onChange={e => changePriceInput(e)}/>\n                    </div>\n                </div>\n                <div className={`${showAlert? 'modal-input-alert show-modal-input-alert' : 'modal-input-alert'}`}>\n                    {alertContent}\n                </div>\n                <button className='close-modal-btn' onClick={() => {\n                    closeCreateOrderModal();\n                    setAlertContent('');\n                    setShowAlert(false);\n                    setPrice();\n                    document.getElementById(\"priceInput\").value= \"\";\n                }}>\n                    <FaTimes></FaTimes>\n                </button>\n                <button className='confirm-modal-btn' onClick={confirm}>Confirm</button>\n            </div>\n        </div>\n    )\n};\n\nexport default CreateOrderModal;","import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport { links } from '../../links';\nimport { FaMoneyBillAlt, FaBusinessTime, FaChartPie } from 'react-icons/fa';\nimport { useGlobalContext} from \"../../context/context\";\nimport CreateOrderModal from '../misc/CreateOrderModal';\n\nconst Sidebar = () => {\n    const { gameData, openCreateOrderModal } = useGlobalContext();\n    const [orderExists, setOrderExists] = useState(false);\n    const [relativeStake, setRelativeStake] = useState(0);\n    const [tableDataArray, setTableDataArray] = useState([]);\n\n    const orderNotExists = async () => {\n        const order = gameData.orders.filter(item => item.provider === gameData.player._id);\n        setOrderExists(!Array.isArray(order) || !order.length);\n    };\n\n    useEffect(() => {\n        orderNotExists();\n        let newRelativeStake = ((gameData.player.stake / gameData.totalStake) * 100).toFixed(1);\n        setRelativeStake(newRelativeStake);\n        const renderTableData = async () => {\n            const players = await gameData.players.sort((a, b) => parseInt(b.upgradeNumber) - parseInt(a.upgradeNumber));\n            const playersArray = await players.slice(0, 5);\n            setTableDataArray(playersArray);\n        };\n        renderTableData();\n    }, [gameData]);\n\n    return (\n        <div>\n            <div className=\"sidebar\">\n                <ul className='sidebar-links'>\n                    {links.map((link) => {\n                        const { id, url, text, icon } = link;\n                        return (\n                            <li key={id}>\n                                <Link to={url}>\n                                    {icon}\n                                    {text}\n                                </Link>\n                            </li>\n                        );\n                    })}\n                </ul>\n            </div>\n            <div className=\"stats-sidebar\">\n                <h3>Stats</h3>\n                <div className=\"stats-sidebar-values\">\n                    <div className=\"stats-sidebar-values-stat\">\n                        <FaMoneyBillAlt style={{color: \"green\", fontSize: \"22px\"}}/>\n                        <h4>{gameData.player.balance}</h4>\n                    </div>\n                    <div className=\"stats-sidebar-values-stat\">\n                        <FaBusinessTime style={{color: \"#38aaff\", fontSize: \"22px\"}}/>\n                        <h4 style={gameData.player.amountOfAvailableService === 1 ? {color: \"forestgreen\", fontSize: \"18px\"} : {color: \"darkred\", fontSize: \"18px\"}}>{gameData.player.amountOfAvailableService === 1 ? 'AVAILABLE' : 'UNAVAILABLE'}</h4>\n                    </div>\n                    <div className=\"stats-sidebar-values-stat\">\n                        <FaChartPie style={{color: \"#ffba72\", fontSize: \"22px\"}}/>\n                        <h4>{gameData.player.stake} ({relativeStake}%)</h4>\n                    </div>\n                    <hr />\n                    <div className=\"stats-sidebar-values-stat\">\n                        <h4>Number of upgrades: {gameData.player.upgradeNumber}</h4>\n                    </div>\n                    <div className=\"stats-sidebar-other-services\">\n                        <div className={`${(gameData.player.amountOfOtherService1 > 0) ? 'stats-sidebar-container-green' : 'stats-sidebar-container-red'}`}>\n                            <h4>{gameData.player.typeOfOtherService1}</h4>\n                        </div>\n                        <div className={`${(gameData.player.amountOfOtherService1 > 0) ? 'stats-sidebar-container-green' : 'stats-sidebar-container-red'}`}>\n                            <h4>{gameData.player.amountOfOtherService1}</h4>\n                        </div>\n                    </div>\n                    <div className=\"stats-sidebar-other-services\">\n                        <div className={`${(gameData.player.amountOfOtherService2 > 0) ? 'stats-sidebar-container-green' : 'stats-sidebar-container-red'}`}>\n                            <h4>{gameData.player.typeOfOtherService2}</h4>\n                        </div>\n                        <div className={`${(gameData.player.amountOfOtherService2 > 0) ? 'stats-sidebar-container-green' : 'stats-sidebar-container-red'}`}>\n                            <h4>{gameData.player.amountOfOtherService2}</h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"create-order-container\">\n                {gameData.player.amountOfAvailableService === 1 && orderExists ? <button className=\"create-order-btn\" onClick={openCreateOrderModal}>Set Price</button> : ''}\n            </div>\n            <div className=\"ranking-sidebar\">\n                <h3>Top 5 players</h3>\n                <table className=\"table-all-rankings\">\n                    <thead>\n                    <tr>\n                        <th>Rank</th>\n                        <th>Player</th>\n                        <th>Number of upgrades</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        tableDataArray.map((item, index) => (\n                            <tr\n                                key={item._id}\n                                style={{background: `${item.playerName === gameData.player.playerName ? '#fffd6c' : ''}`}}\n                            >\n                                <td><strong>{index + 1}</strong></td>\n                                <td>{item.playerName}</td>\n                                <td>{item.upgradeNumber}</td>\n                            </tr>\n                        ))\n                    }\n                    </tbody>\n                </table>\n            </div>\n            <CreateOrderModal/>\n        </div>\n    )\n};\n\nexport default Sidebar","import React from 'react'\nimport { useGlobalContext} from \"../../context/context\";\n\nconst Modal = () => {\n    const { modalContent } = useGlobalContext();\n    return (\n        <div className={'modal-overlay'}>\n            <div className=\"modal-container\">\n                <h2>{modalContent}</h2>\n            </div>\n        </div>\n    )\n};\n\nexport default Modal","import React, {useState, useEffect, useRef} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst ServiceBar = () => {\n    const { gameData } = useGlobalContext();\n    const [serviceCompleted, setServiceCompleted] = useState(0);\n    const [timeLeft, setTimeLeft] = useState(0);\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        }, [callback]);\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    useInterval(async () => {\n        if (gameData.player.amountOfAvailableService === 0) {\n            const service = await gameData.services.filter(service => service.provider === gameData.player._id);\n            let newServiceCompleted = Math.floor(((Date.now() - service[0].serviceTimestamp) / service[0].timeForService) * 100);\n            setServiceCompleted(newServiceCompleted);\n            let timeLeft = service[0].timeForService - (Date.now() - service[0].serviceTimestamp);\n            setTimeLeft(millisToMinutesAndSeconds(timeLeft));\n        } else {\n            setServiceCompleted(100);\n        }\n    }, 50);\n\n\n    return (\n        <>\n            <div className=\"time-container\">\n                <div className=\"bar-container\">\n                    <div className=\"bar-filler\" style={{width: `${serviceCompleted}%`}}>\n                        <span className=\"bar-label\">{`${serviceCompleted}%`}</span>\n                    </div>\n                    <div className=\"bottom\">\n                        {\n                            gameData.player.amountOfAvailableService === 1 ? (\n                                <p>Time for service = {millisToMinutesAndSeconds(gameData.player.timeForService)}</p>\n                            ) : (\n                                <p>Time left = {timeLeft}</p>\n                            )\n                        }\n                        <i></i>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default ServiceBar","import React, {useState, useEffect, useRef} from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst ServiceLoading = (data) => {\n    const { id, consumer, provider, typeOfService, serviceTimestamp, timeForService } = data.item;\n\n    const { gameData } = useGlobalContext();\n    const [serviceCompleted, setServiceCompleted] = useState(0);\n    const [timeLeft, setTimeLeft] = useState(0);\n\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        }, [callback]);\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    useInterval(async () => {\n        let newServiceCompleted = Math.floor(((Date.now() - gameData.player.serviceTimestamp) / gameData.player.timeForService) * 100);\n        setServiceCompleted(newServiceCompleted);\n\n        const calculateTimeLeft = async () => {\n            let timeLeft = timeForService - (Date.now() - serviceTimestamp);\n            let relativeTime = await Math.floor(((Date.now() - serviceTimestamp) / timeForService) * 100);\n            if (relativeTime < 0 || timeLeft < 0) {\n                relativeTime = 0;\n                timeLeft = 0;\n            }\n            setTimeLeft(millisToMinutesAndSeconds(timeLeft));\n            setServiceCompleted(relativeTime);\n        };\n        calculateTimeLeft();\n    }, 50);\n\n\n    return (\n        <>\n            <div className=\"service-container\" data-tip data-for={id}>\n                <p>{typeOfService}</p>\n                <div id=\"divSpinner\" className=\"spinner-loading\">\n                    <div className=\"loading-text\">{serviceCompleted}%</div>\n                </div>\n                {/*<span className=\"service-tooltip\">\n                    <ul>\n                        <li>Consumer: {consumer}</li>\n                        <li>Provider: {provider}</li>\n                        <li>Time left: {timeLeft}</li>\n                    </ul>\n                </span>*/}\n                <ReactTooltip  id={id} place=\"right\" type=\"dark\" effect=\"solid\">\n                    <ul>\n                        <li>Consumer: {consumer}</li>\n                        <li>Provider: {provider}</li>\n                        <li>Time left: {timeLeft}</li>\n                    </ul>\n                </ReactTooltip>\n            </div>\n        </>\n    )\n};\n\nexport default ServiceLoading","import React, {useState, useEffect} from 'react'\nimport { useGlobalContext} from \"../../context/context\";\nimport balanceImg from '../../assets/balance.png';\nimport stakeImg from '../../assets/stake.png';\nimport ServiceBar from './ServiceBar';\nimport ServiceLoading from './ServiceLoading';\n\nconst Stats = () => {\n    const { gameData } = useGlobalContext();\n    const [relativeStake, setRelativeStake] = useState(0);\n    const [serviceDataArray, setServiceDataArray] = useState([]);\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    useEffect(() => {\n        let newRelativeStake = ((gameData.player.stake / gameData.totalStake) * 100).toFixed(1);\n        setRelativeStake(newRelativeStake);\n        const renderServiceData = async () => {\n            const services = await gameData.services.filter(service => service.consumer === gameData.player._id);\n            const serviceArray = await Promise.all(services.map(async (item) => {\n                let { consumer, provider, typeOfService, serviceTimestamp, timeForService } = item;\n                const consumerObject = await gameData.players.filter(player => player._id === consumer);\n                const providerObject = await gameData.players.filter(player => player._id === provider);\n                return (\n                    {\n                        id: item._id,\n                        consumer: consumerObject[0].playerName,\n                        provider: providerObject[0].playerName,\n                        typeOfService: typeOfService,\n                        serviceTimestamp: serviceTimestamp,\n                        timeForService: timeForService\n                    }\n                )\n            }));\n            setServiceDataArray(serviceArray);\n        };\n        renderServiceData();\n    }, [gameData]);\n\n    return (\n        <>\n            <div className=\"stats-grid\">\n                <div className=\"grid-item-stats\">\n                    <div className={\"stats-image\"}>\n                        <img src={balanceImg} alt={\"balance\"}/>\n                    </div>\n                    <div className={\"stats-value\"}>\n                        <p>{gameData.player.balance}</p>\n                    </div>\n                </div>\n                <div className=\"grid-item-stats\">\n                    <div className=\"time-value\">\n                        <h2>{gameData.player.typeOfService}</h2>\n                    </div>\n                    <div className={`${gameData.player.amountOfAvailableService === 1 ? 'time-value-available' : 'time-value-unavailable'}`}>\n                        <h2>{gameData.player.amountOfAvailableService === 1 ? 'Available' : 'Unavailable'}</h2>\n                    </div>\n                    <ServiceBar/>\n                </div>\n                <div className=\"grid-item-stats\">\n                    <div className=\"stake-image\">\n                        <img src={stakeImg} alt={\"stake\"}/>\n                    </div>\n                    <div className={\"stake-value\"}>\n                        <p>{gameData.player.stake}</p>\n                    </div>\n                    <div className={\"stake-value\"}>\n                        <p>({relativeStake}%)</p>\n                    </div>\n                </div>\n                <div className=\"grid-item-stats\">\n                    <div className=\"upgrade-value\">\n                        <h3>Number of upgrades: {gameData.player.upgradeNumber}</h3>\n                    </div>\n                    <div className=\"upgrade-container\">\n                        <div className={`${(gameData.player.amountOfOtherService1 > 0) ? 'upgrade-container-green' : 'upgrade-container-red'}`}>\n                            <p>{`${gameData.player.amountOfOtherService1}`} &#215; {`${gameData.player.typeOfOtherService1}`}</p>\n                        </div>\n                        <div>\n                            <p>+</p>\n                        </div>\n                        <div className={`${(gameData.player.amountOfOtherService2 > 0) ? 'upgrade-container-green' : 'upgrade-container-red'}`}>\n                            <p>{`${gameData.player.amountOfOtherService2}`} &#215; {`${gameData.player.typeOfOtherService2}`}</p>\n                        </div>\n                    </div>\n                    <div className=\"upgrade-container\">\n                        <div className=\"upgrade-container-formula\">\n                            <p>{`${gameData.player.typeOfOtherService1}`} + {`${gameData.player.typeOfOtherService2}`} = &#8681; {millisToMinutesAndSeconds(gameData.player.timeForService - gameData.player.nextTimeForService)}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"services-container\">\n                <h3>Purchased Services</h3>\n                <div className=\"loading-services-container\">\n                    {\n                        serviceDataArray.map((item) => (\n                            <ServiceLoading item={item} key={item.id}/>\n                        ))\n                    }\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default Stats","import React, { useEffect } from 'react';\nimport {useGlobalContext} from \"../../context/context\";\n\nimport Sidebar from '../layout/Sidebar';\nimport Modal from '../misc/Modal';\nimport Stats from '../misc/Stats';\n\n\nconst Home = () => {\n    const { gameData, isGameOn, setModalContent} = useGlobalContext();\n\n\n    useEffect(() => {\n        const checkLoggedInAndGame = async () => {\n            let token = localStorage.getItem(\"auth-token\");\n            let playerId = localStorage.getItem(\"playerId\");\n            if ((token === null || token === \"\") && (playerId === null || playerId === \"\")) {\n                setModalContent('Please log in!');\n            } else {\n                if (!isGameOn) {\n                    setModalContent('Wait for the admin to start the game!');\n                }\n            }\n        };\n        checkLoggedInAndGame();\n    }, []);\n\n    return (\n        <div>\n            <div>\n                {\n                    gameData.player ? (\n                        <div>\n                            {\n                                isGameOn ? (\n                                    <div>\n                                        <div className=\"home-grid\">\n                                            <div className=\"item-sidebar\">\n                                                <Sidebar/>\n                                            </div>\n                                            <div className=\"item-content\">\n                                                <Stats/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <>\n                                        <Modal/>\n                                    </>\n                                )\n                            }\n                        </div>\n\n                    ) : (\n                        <>\n                            <Modal/>\n                        </>\n                    )\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Home","import React, { useState } from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport loginImg from '../../assets/login.svg';\n\nexport default function Login () {\n    const [playerName, setPlayerName] = useState();\n    const [password, setPassword] = useState();\n\n    const [showAlert, setShowAlert] = useState(false);\n\n    const history = useHistory();\n\n    const submit = async (e) => {\n        try {\n            e.preventDefault();\n            const loginPlayer = { playerName, password };\n            const loginRes =  await Axios.post(\"/player/login\", loginPlayer);\n            localStorage.setItem(\"auth-token\", loginRes.data.token);\n            localStorage.setItem(\"playerId\", loginRes.data.id);\n            history.push(\"/\");\n            history.go(0);\n        } catch(err) {\n            if (err.response !== undefined && err.response.data.message === \"Auth failed\") {\n                setShowAlert(true);\n            }\n        }\n    };\n\n    return (\n        <div className=\"login-App\">\n            <div className=\"login\">\n                <div className=\"login-container\">\n                    <div className={\"login-base-container\"}>\n                        <h3>Login</h3>\n                        <div className={\"login-content\"}>\n                            <div className={\"login-image\"}>\n                                <img src={loginImg} alt={\"login\"}/>\n                            </div>\n                            <div className={\"login-form\"}>\n                                <div className={\"login-form-group\"}>\n                                    <label htmlFor={\"playerName\"}>Player name</label>\n                                    <input type={\"text\"} name={\"playerName\"} placeholder={\"Enter name\"} onChange={e => setPlayerName(e.target.value)}/>\n                                </div>\n                                <div className={\"login-form-group\"}>\n                                    <label htmlFor={\"password\"}>Password</label>\n                                    <input type={\"password\"} name={\"password\"} placeholder={\"Enter password\"} onChange={e => setPassword(e.target.value)}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={`${showAlert? 'login-alert show-alert' : 'login-alert'}`}>\n                            The name or password is incorrect!\n                        </div>\n                        <div className=\"login-footer\">\n                            <button type=\"button\" className=\"login-btn\" onClick={submit}>\n                                Log in\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n};\n","import React from 'react'\nimport { ResponsiveBar } from '@nivo/bar';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst BarChart = ({dataArray, modifiedData, checked}) => {\n    const { gameData, openTradeModal, setTradeModalContent, openCancelOrderModal, setCancelOrderModalContent } = useGlobalContext();\n\n    const setTradeModal = (data) => {\n        if (data.typeOfService !== gameData.player.typeOfService) {\n            const realData = dataArray.filter(item => item._id === data._id);\n            if (!(!Array.isArray(realData) || !realData.length)) {\n                setTradeModalContent(realData[0]);\n                openTradeModal();\n            }\n        } else {\n            if (data.playerName === gameData.player.playerName) {\n                const realData = dataArray.filter(item => item._id === data._id);\n                if (!(!Array.isArray(realData) || !realData.length)) {\n                    setCancelOrderModalContent(realData[0]);\n                    openCancelOrderModal();\n                }\n            }\n        }\n    };\n\n    const mouseHover = (data, event) => {\n        if (data.typeOfService !== gameData.player.typeOfService) {\n            event.target.style.cursor = 'pointer';\n        } else {\n            if (data.playerName === gameData.player.playerName) {\n                event.target.style.cursor = 'pointer';\n            }\n        }\n    };\n\n    const renderLabel = (data) => {\n        const realData = dataArray.filter(item => item._id === data._id);\n        if (!(!Array.isArray(realData) || !realData.length)) {\n            if (!checked) {\n                return realData[0].price.toString();\n            } else {\n                return millisToMinutesAndSecondsShort(realData[0].timeForService);\n            }\n        }\n    };\n\n    const renderTooltip = (data) => {\n        const realData = dataArray.filter(item => item._id === data._id);\n        if (!(!Array.isArray(realData) || !realData.length)) {\n            return realData[0].price.toString();\n        }\n    };\n\n    const millisToMinutesAndSecondsShort = (millis) => {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + ':' + d.getUTCSeconds());\n        }\n    };\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    const toggleData = () => {\n        if (!checked) {\n            return [ 'price' ];\n        } else {\n            return [ 'height' ]\n        }\n    };\n\n    const toggleNameAxis = () => {\n        if (!checked) {\n            return ('PRICE');\n        } else {\n            return ('TIME FOR SERVICE');\n        }\n    };\n\n\n    return (\n        <ResponsiveBar\n            data={modifiedData}\n            onClick={(data) => setTradeModal(data.data)}\n            onMouseEnter={(data, event) => mouseHover(data.data, event)}\n            keys={toggleData}\n            indexBy=\"playerName\"\n            margin={{ top: 10, right: 20, bottom: 50, left: 70 }}\n            padding={0.25}\n            valueScale={{ type: 'symlog'}}\n            theme={{ \"fontSize\": 14, fontFamily: \"Roboto, sans-serif\", axis: { legend: { text: { fontSize: \"16px\", fontWeight: \"bold\", fontFamily: \"Roboto, sans-serif\" } } } }}\n            colors={d => d.data.color}\n            borderColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n            }}\n            axisLeft={{\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: toggleNameAxis(),\n                legendPosition: 'middle',\n                legendOffset: -50,\n                tickValues: 3\n            }}\n            tooltip={({ data, id }) => {\n                return (\n                    <strong>\n                        <p>Price - {data.playerName}: {renderTooltip(data)}</p>\n                        <p>Time for service: {millisToMinutesAndSeconds(data.timeForService)}</p>\n                    </strong>\n\n                )\n            }}\n            label={(data) => renderLabel(data.data)}\n            labelSkipWidth={12}\n            labelSkipHeight={12}\n            labelTextColor=\"white\"\n            animate={false}\n            motionStiffness={90}\n            motionDamping={15}\n        />\n    )\n};\n\n\nexport default BarChart","import React from 'react';\nimport Switch from \"react-switch\";\n\n\nconst SwitchToggle = (data) => {\n\n    const handleChange = nextChecked => {\n        data.onChange(nextChecked);\n    };\n\n\n    return (\n        <div className=\"toggle-switch\">\n            <div className=\"toggle-switch-text\">Price</div>\n            <Switch\n                onChange={handleChange}\n                checked={data.checked}\n                onColor=\"#86d3ff\"\n                onHandleColor=\"#2693e6\"\n                handleDiameter={30}\n                uncheckedIcon={false}\n                checkedIcon={false}\n                boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                height={20}\n                width={48}\n                className=\"react-switch\"\n            />\n            <div className=\"toggle-switch-text\">Time</div>\n        </div>\n    )\n};\n\n\nexport default SwitchToggle","import React, {useState, useEffect} from 'react'\nimport { useGlobalContext} from \"../../context/context\";\nimport BarChart from '../misc/BarChart';\nimport ToggleSwitch from '../misc/ToggleSwitch';\n\n\nconst Trade = () => {\n    const { gameData } = useGlobalContext();\n    const [dataArray1, setDataArray1] = useState([]);\n    const [dataArray2, setDataArray2] = useState([]);\n    const [dataArray3, setDataArray3] = useState([]);\n    const [modifiedDataArray1, setModifiedDataArray1] = useState([]);\n    const [modifiedDataArray2, setModifiedDataArray2] = useState([]);\n    const [modifiedDataArray3, setModifiedDataArray3] = useState([]);\n\n    const [checked1, setChecked1] = useState(false);\n    const [checked2, setChecked2] = useState(false);\n    const [checked3, setChecked3] = useState(false);\n\n    const handleChange1 = nextChecked => {\n        setChecked1(nextChecked);\n    };\n\n    const handleChange2 = nextChecked => {\n        setChecked2(nextChecked);\n    };\n\n    const handleChange3 = nextChecked => {\n        setChecked3(nextChecked);\n    };\n\n    const millisToFloat = (millis) => {\n        const time = millis/60000;\n        return time.toFixed(2);\n    };\n\n\n    useEffect(() => {\n        const sortDataArrays = async () => {\n            let array1 = await gameData.orders.filter(item => item.typeOfService === gameData.player.typeOfOtherService1);\n            let array2 = await gameData.orders.filter(item => item.typeOfService === gameData.player.typeOfOtherService2);\n            let array3 = await gameData.orders.filter(item => item.typeOfService === gameData.player.typeOfService);\n            if (checked1) {\n                await array1.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    item.color = '#1E90FF';\n                });\n                await array1.sort((a, b) => a.timeForService - b.timeForService);\n                await array1.forEach((item) => {\n                    item.height = millisToFloat(item.timeForService);\n                });\n                setDataArray1(array1);\n\n            } else {\n                await array1.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    item.color = '#1E90FF';\n                });\n                await array1.sort((a, b) => a.price - b.price);\n                setDataArray1(array1);\n            }\n            if (checked2) {\n                await array2.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    item.color = 'green';\n                });\n                await array2.sort((a, b) => a.timeForService - b.timeForService);\n                await array2.forEach((item) => {\n                    item.height = millisToFloat(item.timeForService);\n                });\n                setDataArray2(array2);\n\n            } else {\n                await array2.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    item.color = 'green';\n                });\n                await array2.sort((a, b) => a.price - b.price);\n                setDataArray2(array2);\n            }\n\n            if (checked3) {\n                await array3.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    if (item.playerName === gameData.player.playerName) {\n                        item.color = '#FFD700';\n                    } else {\n                        item.color = \"#FF8C00\";\n                    }\n                });\n                await array3.sort((a, b) => a.timeForService - b.timeForService);\n                await array3.forEach((item) => {\n                    item.height = millisToFloat(item.timeForService);\n                });\n                setDataArray3(array3);\n            } else {\n                await array3.forEach((item) => {\n                    item.price = parseInt(item.price);\n                    if (item.playerName === gameData.player.playerName) {\n                        item.color = '#FFD700';\n                    } else {\n                        item.color = \"#FF8C00\";\n                    }\n                });\n                await array3.sort((a, b) => a.price - b.price);\n                setDataArray3(array3);\n            }\n            let modifiedArray1 = await array1.map((item) => {\n               if (item.price < 1) {\n                   return {...item, price: 0.9};\n               } else {\n                   return {...item};\n               }\n            });\n            let modifiedArray2 = await array2.map((item) => {\n                if (item.price < 1) {\n                    return {...item, price: 0.9};\n                } else {\n                    return {...item};\n                }\n            });\n            let modifiedArray3 = await array3.map((item) => {\n                if (item.price < 1) {\n                    return {...item, price: 0.9};\n                } else {\n                    return {...item};\n                }\n            });\n            setModifiedDataArray1(modifiedArray1);\n            setModifiedDataArray2(modifiedArray2);\n            setModifiedDataArray3(modifiedArray3);\n        };\n        sortDataArrays();\n    }, [gameData, checked1, checked2, checked3]);\n\n    return (\n        <>\n            <div className=\"trades-container\">\n                <div className=\"other-services-trade-container\">\n                    <div className=\"chart-container\">\n                        <div className=\"chart-container-text\">\n                            <h3>{`${gameData.player.typeOfOtherService1}`}</h3>\n                        </div>\n                        <ToggleSwitch checked={checked1} onChange={handleChange1}/>\n                        <div className=\"chart-container-chart\">\n                            <BarChart dataArray={dataArray1} modifiedData={modifiedDataArray1} checked={checked1}/>\n                        </div>\n                    </div>\n                    <div className=\"chart-container\">\n                        <div className=\"chart-container-text\">\n                            <h3>{`${gameData.player.typeOfOtherService2}`}</h3>\n                        </div>\n                        <ToggleSwitch checked={checked2} onChange={handleChange2}/>\n                        <div className=\"chart-container-chart\">\n                            <BarChart dataArray={dataArray2} modifiedData={modifiedDataArray2} checked={checked2}/>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"my-service-trade-container\">\n                    <div className=\"chart-container\">\n                        <div className=\"chart-container-text\">\n                            <h3>{`${gameData.player.typeOfService}`}</h3>\n                        </div>\n                        <ToggleSwitch checked={checked3} onChange={handleChange3}/>\n                        <div className=\"chart-container-chart\">\n                            <BarChart dataArray={dataArray3} modifiedData={modifiedDataArray3} checked={checked3}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default Trade;","import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaTimes } from 'react-icons/fa';\nimport Axios from \"axios/index\";\n\nconst TradeModal = () => {\n    const { gameData, isTradeModalOpen, closeTradeModal, tradeModalContent } = useGlobalContext();\n    const [txFee, setTxFee] = useState(\"0\");\n    const [showAlert, setShowAlert] = useState(false);\n    const [alertContent, setAlertContent] = useState('');\n    const [tableDataArray, setTableDataArray] = useState([]);\n\n    const countDecimals = (value) => {\n        if(Math.floor(value).toString() === value) return 0;\n        return value.toString().split(\".\")[1].length || 0;\n    };\n\n    const confirm = async () => {\n        try {\n            if (txFee === undefined || txFee === \"\") {\n                setAlertContent('You must enter a value');\n                setShowAlert(true);\n            } else {\n                if (isNaN(txFee) || txFee < 0) {\n                    setAlertContent('Input cannot be a negative number');\n                    setShowAlert(true);\n                } else {\n                    if (countDecimals(txFee) > 0) {\n                        setAlertContent('Input value must be an integer');\n                        setShowAlert(true);\n                    } else {\n                        if (parseInt(tradeModalContent.price) + parseInt(txFee) > gameData.player.balance) {\n                            setAlertContent('Price and TxFee is higher than balance');\n                            setShowAlert(true);\n                        } else {\n                            const token = localStorage.getItem(\"auth-token\");\n                            const playerId = localStorage.getItem(\"playerId\");\n                            const data = {\n                                orderId: tradeModalContent._id,\n                                txFee: txFee\n                            };\n                            const options = {\n                                headers: {\n                                    Authorization: \"Bearer \" + token\n                                }\n                            };\n                            const createRes =  await Axios.post(`/player/createTransaction/${playerId}`, data, options);\n                            closeTradeModal();\n                            setAlertContent('');\n                            setShowAlert(false);\n                            setTxFee();\n                            document.getElementById(\"inputHolder\").value= \"\";\n                        }\n                    }\n                }\n            }\n        } catch(err) {\n            if (err.response !== undefined && err.response.data.message === \"Trade already exists\") {\n                setAlertContent('Trade with this person already exists');\n                setShowAlert(true);\n            }\n        }\n    };\n\n    const changeFeeInput = async (e) => {\n        try {\n            if (e.target.value === \"\") {\n                setTxFee(\"0\");\n            } else {\n                setTxFee(e.target.value)\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    useEffect(() => {\n        const renderTableData = async () => {\n            const transactions = await gameData.allPendingTransactions.sort((a, b) => b.txFee - a.txFee);\n            const transactionsArray = await Promise.all(transactions.map(async (item) => {\n                let { consumer, provider, typeOfService, amountOfService, price, txFee } = item;\n                const consumerObject = await gameData.players.filter(player => player._id === consumer);\n                const providerObject = await gameData.players.filter(player => player._id === provider);\n                if (!Array.isArray(providerObject) || !providerObject.length) {\n                    return (\n                        {\n                            id: item._id,\n                            consumer: consumerObject[0].playerName,\n                            provider: \"Blockchain\",\n                            typeOfService: typeOfService,\n                            amountOfService: amountOfService,\n                            price: price,\n                            txFee: txFee,\n                            type: \"cancel transaction\"\n                        }\n                    )\n                }\n                return (\n                    {\n                        id: item._id,\n                        consumer: consumerObject[0].playerName,\n                        provider: providerObject[0].playerName,\n                        typeOfService: typeOfService,\n                        amountOfService: amountOfService,\n                        price: price,\n                        txFee: txFee,\n                        type: \"cancel transaction\"\n                    }\n                )\n            }));\n            setTableDataArray(transactionsArray);\n        };\n        renderTableData();\n    }, [gameData]);\n\n    return (\n        <div\n            className={\n                `${isTradeModalOpen ? 'modal-confirm-overlay show-modal-confirm' : 'modal-confirm-overlay'}`\n            }\n        >\n            <div className='modal-confirm-container'>\n                <h3>Create Trade</h3>\n                <div className='modal-confirm-container-data'>\n                    <div className='modal-confirm-container-input'>\n                        <ul>\n                            <li>Player: {tradeModalContent.playerName}</li>\n                            <li>typeOfService: {tradeModalContent.typeOfService}</li>\n                            <li>price: {tradeModalContent.price}</li>\n                        </ul>\n                        <div className={\"trade-modal-input-group\"}>\n                            <label htmlFor={\"txFee\"}>Tx Fee</label>\n                            <div className=\"trade-modal-input-group-container\">\n                                <input type={\"text\"} name={\"txFee\"} id={\"inputHolder\"} placeholder={\"Enter tx fee\"} onChange={e => changeFeeInput(e)}/>\n                            </div>\n                        </div>\n                        <div className={`${showAlert? 'trade-modal-input-alert show-trade-modal-input-alert' : 'trade-modal-input-alert'}`}>\n                            {alertContent}\n                        </div>\n                    </div>\n                    <div className=\"trade-modal-table-container\">\n                        <table className=\"modal-table-pending-transactions\">\n                            <thead>\n                            <tr>\n                                <th className=\"table-pending-transactions-head\">No.</th>\n                                <th className=\"table-pending-transactions-head\">Pending transactions</th>\n                                <th className=\"table-pending-transactions-head\">Tx Fee</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {\n                                tableDataArray.map((item, index) => (\n                                    <tr\n                                        key={item.id}\n                                        data-tip data-for={item.id}\n                                    >\n                                        <td><strong>{index + 1}</strong></td>\n                                        <td>\n                                            {item.consumer} &#8646; {item.provider}\n                                        </td>\n                                        <td>{item.txFee}</td>\n                                    </tr>\n                                ))\n                            }\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <button className='close-modal-btn' onClick={() => {\n                    closeTradeModal();\n                    setAlertContent('');\n                    setShowAlert(false);\n                    setTxFee();\n                    document.getElementById(\"inputHolder\").value= \"\";\n                }}>\n                    <FaTimes></FaTimes>\n                </button>\n                <button className='confirm-modal-btn' onClick={confirm}>Confirm</button>\n            </div>\n        </div>\n    )\n};\n\nexport default TradeModal","import React from 'react'\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaTimes } from 'react-icons/fa';\nimport Axios from \"axios/index\";\n\nconst CancelOrderModal = () => {\n    const { isCancelOrderModalOpen, closeCancelOrderModal, cancelOrderModalContent } = useGlobalContext();\n\n    const confirm = async () => {\n        try {\n            const token = localStorage.getItem(\"auth-token\");\n            const playerId = localStorage.getItem(\"playerId\");\n\n            const confirmRes =  await Axios.delete(`/player/cancelOrder/${playerId}`, {\n                headers: {\n                    Authorization: \"Bearer \" + token\n                },\n                data: {\n                    orderId: cancelOrderModalContent._id\n                }\n            });\n            closeCancelOrderModal();\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <div\n            className={`${\n                isCancelOrderModalOpen ? 'modal-confirm-overlay show-modal-confirm' : 'modal-confirm-overlay'\n                }`}\n        >\n            <div className='modal-confirm-container'>\n                <h3>Are you sure you want to cancel offer:</h3>\n                <ul>\n                    <li>Player: {cancelOrderModalContent.playerName}</li>\n                    <li>typeOfService: {cancelOrderModalContent.typeOfService}</li>\n                    <li>price: {cancelOrderModalContent.price}</li>\n                </ul>\n                <button className='close-modal-btn' onClick={closeCancelOrderModal}>\n                    <FaTimes></FaTimes>\n                </button>\n                <button className='confirm-modal-btn' onClick={confirm}>Confirm</button>\n            </div>\n        </div>\n    )\n};\n\nexport default CancelOrderModal","import React, { useEffect } from 'react';\nimport {useGlobalContext} from \"../../context/context\";\n\nimport Sidebar from '../layout/Sidebar';\nimport Modal from '../misc/Modal';\nimport Trades from '../misc/Trades';\nimport TradeModal from '../misc/TradeModal';\nimport CancelOrderModal from '../misc/CancelOrderModal';\n\n\n\nconst Trade = () => {\n    const { gameData, isGameOn, setModalContent } = useGlobalContext();\n\n\n    useEffect(() => {\n        const checkLoggedInAndGame = async () => {\n            let token = localStorage.getItem(\"auth-token\");\n            let playerId = localStorage.getItem(\"playerId\");\n            if (token !== (null || \"\") && playerId !== (null || \"\")) {\n                if (!isGameOn) {\n                    setModalContent('Wait for the admin to start the game!');\n                }\n            } else {\n                setModalContent('Please log in!');\n            }\n        };\n        checkLoggedInAndGame();\n    }, []);\n\n    return (\n        <div>\n            <div>\n                {\n                    gameData.player ? (\n                        <div>\n                            {\n                                isGameOn ? (\n                                    <div>\n                                        <div className=\"home-grid\">\n                                            <div className=\"item-sidebar\">\n                                                <Sidebar/>\n                                            </div>\n                                            <div className=\"item-content\">\n                                                <Trades/>\n                                            </div>\n                                        </div>\n                                        <TradeModal/>\n                                        <CancelOrderModal/>\n                                    </div>\n                                ) : (\n                                    <>\n                                        <Modal/>\n                                    </>\n                                )\n                            }\n                        </div>\n\n                    ) : (\n                        <>\n                            <Modal/>\n                        </>\n                    )\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Trade","import React from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport { ResponsivePie } from '@nivo/pie'\n\nconst CenteredMetric = ({ dataWithArc, centerX, centerY }) => {\n    const { gameData } = useGlobalContext();\n    let total = gameData.totalStake;\n    return (\n        <text\n            x={centerX}\n            y={centerY}\n            textAnchor=\"middle\"\n            dominantBaseline=\"central\"\n            style={{\n                fontSize: '25px',\n                fontWeight: '500',\n            }}\n        >\n            {total}\n        </text>\n    )\n};\n\nconst PieChart = ({ data }) => (\n    <ResponsivePie\n        data={data}\n        theme={{ \"fontSize\": 16, fontFamily: \"Roboto, sans-serif\", axis: { legend: { text: { fontSize: \"16px\", fontWeight: \"bold\", fontFamily: \"Roboto, sans-serif\" } } } }}\n        margin={{ top: 20, right: 20, bottom: 20, left: 20 }}\n        innerRadius={0.3}\n        padAngle={1}\n        cornerRadius={3}\n        colors={{ scheme: 'yellow_orange_red' }}\n        borderWidth={1}\n        borderColor={{ from: 'color', modifiers: [ [ 'darker', 0.2 ] ] }}\n        enableRadialLabels={false}\n        sliceLabelsSkipAngle={10}\n        sliceLabelsTextColor=\"#333333\"\n        sortByValue={true}\n        layers={['slices', 'sliceLabels', CenteredMetric]}\n    />\n);\n\nexport default PieChart","import React, {useState, useEffect, useRef} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst MiningBar = () => {\n    const { gameData } = useGlobalContext();\n    const [timeLeft, setTimeLeft] = useState('');\n    const [width, setWidth] = useState(0);\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        }, [callback]);\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    useInterval(async () => {\n        const createdMillis = await new Date(gameData.miningTime).getTime();\n        let timeLeft = 10000 - (Date.now() - createdMillis);\n        let width = await Math.floor((1 - ((Date.now() - createdMillis) / 10000)) * 100);\n        if (width < 0 || timeLeft < 0) {\n            width = 0;\n            timeLeft = 0;\n        }\n        setTimeLeft(millisToMinutesAndSeconds(timeLeft));\n        setWidth(width);\n    }, 50);\n\n\n\n    return (\n        <>\n            <div className=\"mining-progress-container\">\n                <div className=\"mining-progress-flex\">\n                    <p>Mining</p>\n                    <div className=\"mining-progress\">\n                        <div className=\"mining-progress-filler\" style={{width: `${width}%`}}></div>\n                    </div>\n                </div>\n                <span className=\"mining-progress-text\">Time left: {timeLeft}</span>\n            </div>\n        </>\n    )\n};\n\nexport default MiningBar","import React, {useState, useEffect} from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaTimes } from 'react-icons/fa';\nimport MiningBar from './MiningBar';\n\n\nconst TransactionsTable = () => {\n    const { gameData, openConfirmModal, setConfirmModalContent } = useGlobalContext();\n    const [tableDataArray, setTableDataArray] = useState([]);\n    const [timeLeft, setTimeLeft] = useState('');\n    const [width, setWidth] = useState(0);\n\n    function millisToMinutesAndSeconds(millis) {\n        let d = new Date(1000*Math.round(millis/1000));\n        if (d.getUTCMinutes() === 0) {\n            return ( d.getUTCSeconds() + 's' );\n        } else {\n            return ( d.getUTCMinutes() + 'min ' + d.getUTCSeconds() + 's' );\n        }\n    }\n\n    const setCancelTransactionModal = (transaction) => {\n        setConfirmModalContent(transaction);\n        openConfirmModal();\n    };\n\n    useEffect(() => {\n        const renderTableData = async () => {\n            const transactions = await gameData.allPendingTransactions.sort((a, b) => parseInt(b.txFee) - parseInt(a.txFee));\n            const transactionsArray = await Promise.all(transactions.map(async (item) => {\n                let { consumer, provider, typeOfService, amountOfService, price, txFee } = item;\n                const consumerObject = await gameData.players.filter(player => player._id === consumer);\n                const providerObject = await gameData.players.filter(player => player._id === provider);\n                if (!Array.isArray(providerObject) || !providerObject.length) {\n                    return (\n                        {\n                            id: item._id,\n                            consumer: consumerObject[0].playerName,\n                            provider: \"Blockchain\",\n                            typeOfService: typeOfService,\n                            amountOfService: amountOfService,\n                            price: price,\n                            txFee: txFee,\n                            type: \"cancel transaction\"\n                        }\n                    )\n                }\n                return (\n                    {\n                        id: item._id,\n                        consumer: consumerObject[0].playerName,\n                        provider: providerObject[0].playerName,\n                        typeOfService: typeOfService,\n                        amountOfService: amountOfService,\n                        price: price,\n                        txFee: txFee,\n                        type: \"cancel transaction\"\n                    }\n                )\n            }));\n            setTableDataArray(transactionsArray);\n        };\n        renderTableData();\n        const calculateTimeLeft = async () => {\n            const createdMillis = await new Date(gameData.miningTime).getTime();\n            let timeLeft = 10000 - (Date.now() - createdMillis);\n            let width = await Math.floor((1 - ((Date.now() - createdMillis) / 10000)) * 100);\n            if (width < 0 || timeLeft < 0) {\n                width = 0;\n                timeLeft = 0;\n            }\n            setTimeLeft(millisToMinutesAndSeconds(timeLeft));\n            setWidth(width);\n        };\n        calculateTimeLeft();\n    }, [gameData]);\n\n\n    return (\n        <>\n            <div className=\"pending-transactions-container\">\n                <MiningBar/>\n                <div className=\"table-pending-transactions-container\">\n                    <table className=\"table-pending-transactions\">\n                        <thead>\n                        <tr>\n                            <th className=\"table-pending-transactions-head\">No.</th>\n                            <th className=\"table-pending-transactions-head\">Pending transactions</th>\n                            <th className=\"table-pending-transactions-head\">Tx Fee</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            tableDataArray.map((item, index) => (\n                                <tr\n                                    key={item.id}\n                                    data-tip data-for={item.id}\n                                    style={{background: `${(item.consumer === gameData.player.playerName) || (item.provider === gameData.player.playerName) ? '#fffd6c' : ''}`}}\n                                >\n                                    <td><strong>{index + 1}</strong></td>\n                                    <td>\n                                        {item.consumer} &#8646; {item.provider}\n                                        {item.consumer === gameData.player.playerName ?\n                                            <button\n                                                className='cancel-transaction-btn'\n                                                onClick={() => { ((item.consumer === gameData.player.playerName) || (item.provider === gameData.player.playerName)) && setCancelTransactionModal(item)}}\n                                            >\n                                                <FaTimes></FaTimes>\n                                            </button>\n                                            :''}\n                                    </td>\n                                    <td>{item.txFee}</td>\n                                    <td className=\"table-pending-transactions-tooltip\">\n                                        <ReactTooltip id={item.id} place=\"bottom\" type=\"dark\" effect=\"solid\">\n                                            <ul>\n                                                <li>Consumer: {item.consumer}</li>\n                                                <li>Provider: {item.provider}</li>\n                                                <li>typeOfService: {item.typeOfService}</li>\n                                                <li>price: {item.price}</li>\n                                            </ul>\n                                        </ReactTooltip>\n                                    </td>\n                                </tr>\n                            ))\n                        }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default TransactionsTable","import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaArrowUp, FaArrowDown } from 'react-icons/fa';\n\nconst AllTransactionsTable = () => {\n    const { gameData,  } = useGlobalContext();\n    const [tableDataArray, setTableDataArray] = useState([]);\n    const [sortBy, setSortBy] = useState('time');\n    const [orderOfSort, setOrderOfSort] = useState('ascending');\n    const [checkBoxes, setCheckBoxes] = useState([{type: \"Mechanical service\", isChecked: false}, {type: \"Electrical service\", isChecked: false}, {type: \"IT service\", isChecked: false}, {type: \"Stake\", isChecked: false}, {type: \"Unstake\", isChecked: false}]);\n\n    const displayTime = async (time) => {\n        const createdMillis = await new Date(time);\n        return createdMillis.toLocaleTimeString('it-IT');\n    };\n\n    const sortDataArray = async (dataArray) => {\n        if (sortBy === 'time') {\n            return await dataArray.sort((a, b) => {\n                let arrayA = a.createdAt.split(\":\");\n                let timeA = (parseInt(arrayA[0], 10) * 60 * 60) + (parseInt(arrayA[1], 10) * 60) + parseInt(arrayA[2], 10);\n                let arrayB = b.createdAt.split(\":\");\n                let timeB = (parseInt(arrayB[0], 10) * 60 * 60) + (parseInt(arrayB[1], 10) * 60) + parseInt(arrayB[2], 10);\n                if (orderOfSort === \"descending\") {\n                    return timeB - timeA;\n                } if (orderOfSort === \"ascending\") {\n                    return timeA - timeB;\n                }\n            });\n        } if (sortBy === 'consumer') {\n            return await dataArray.sort((a, b) => {\n                let textA = a.consumer.toUpperCase();\n                let textB = b.consumer.toUpperCase();\n                if (orderOfSort === \"descending\") {\n                    return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                } if (orderOfSort === \"ascending\") {\n                    return (textA > textB) ? -1 : (textA < textB) ? 1 : 0;\n                }\n            });\n        } if (sortBy === 'provider') {\n            return await dataArray.sort((a, b) => {\n                let textA = a.provider.toUpperCase();\n                let textB = b.provider.toUpperCase();\n                if (orderOfSort === \"descending\") {\n                    return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                } if (orderOfSort === \"ascending\") {\n                    return (textA > textB) ? -1 : (textA < textB) ? 1 : 0;\n                }\n            });\n        } if (sortBy === 'typeOfService') {\n            return await dataArray.sort((a, b) => {\n                let textA = a.typeOfService.toUpperCase();\n                let textB = b.typeOfService.toUpperCase();\n                if (orderOfSort === \"descending\") {\n                    return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                } if (orderOfSort === \"ascending\") {\n                    return (textA > textB) ? -1 : (textA < textB) ? 1 : 0;\n                }\n            });\n        } if (sortBy === 'price') {\n            if (orderOfSort === \"descending\") {\n                return await dataArray.sort((a, b) => parseInt(b.price) - parseInt(a.price));\n            } if (orderOfSort === \"ascending\") {\n                return await dataArray.sort((a, b) => parseInt(a.price) - parseInt(b.price));\n            }\n        } if (sortBy === 'txFee') {\n            if (orderOfSort === \"descending\") {\n                return await dataArray.sort((a, b) => parseInt(b.txFee) - parseInt(a.txFee));\n            } if (orderOfSort === \"ascending\") {\n                return await dataArray.sort((a, b) => parseInt(a.txFee) - parseInt(b.txFee));\n            }\n        }\n    };\n\n    const selectOne = async (e) => {\n        let itemName = e.target.name;\n        let checked = e.target.checked;\n        const newArray = await checkBoxes.map(item =>\n            item.type === itemName ? { ...item, isChecked: checked } : item\n        );\n        setCheckBoxes(newArray);\n    };\n\n    const filterDataArray = async (dataArray) => {\n        const checkedBoxes = await checkBoxes.filter(item => item.isChecked);\n        const selectedTypes = await checkedBoxes.map(item => item.type);\n        if (!Array.isArray(selectedTypes) || !selectedTypes.length) {\n            return dataArray;\n        }\n        return dataArray.filter(data => selectedTypes.includes(data.typeOfService));\n    };\n\n    useEffect(() => {\n        const renderTableData = async () => {\n            const transactionsArray = await Promise.all(gameData.allTransactions.map(async (item) => {\n                let { consumer, provider, typeOfService, amountOfService, price, txFee, createdAt } = item;\n                const consumerObject = await gameData.players.filter(player => player._id === consumer);\n                const providerObject = await gameData.players.filter(player => player._id === provider);\n                const timeString = await displayTime(createdAt);\n                if (!Array.isArray(providerObject) || !providerObject.length) {\n                    return (\n                        {\n                            id: item._id,\n                            consumer: consumerObject[0].playerName,\n                            provider: \"Blockchain\",\n                            typeOfService: typeOfService,\n                            amountOfService: amountOfService,\n                            price: price,\n                            txFee: txFee,\n                            type: \"cancel transaction\",\n                            createdAt: timeString\n                        }\n                    )\n                }\n                return (\n                    {\n                        id: item._id,\n                        consumer: consumerObject[0].playerName,\n                        provider: providerObject[0].playerName,\n                        typeOfService: typeOfService,\n                        amountOfService: amountOfService,\n                        price: price,\n                        txFee: txFee,\n                        type: \"cancel transaction\",\n                        createdAt: timeString\n                    }\n                )\n            }));\n            const filteredTransactionsArray = await filterDataArray(transactionsArray);\n            const dataArray = await sortDataArray(filteredTransactionsArray);\n            setTableDataArray(dataArray);\n        };\n        renderTableData();\n    }, [gameData, checkBoxes, orderOfSort]);\n\n\n    return (\n        <>\n            <div className=\"table-all-transactions-container\">\n                <div className=\"filter-all-transactions\">\n                    {\n                        checkBoxes.map((item) => (\n                            <label className=\"checkbox-container\" key={item.type}>{item.type}\n                                <input type=\"checkbox\" name={item.type} checked={item.isChecked} onChange={selectOne}/>\n                                <span className=\"checkmark\"></span>\n                            </label>\n                        ))\n                    }\n                </div>\n                <div className=\"table-all-transactions-overflow\">\n                    <table className=\"table-all-transactions\">\n                        <thead>\n                        <tr>\n                            <th onClick={() => {\n                                setSortBy('time');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Time {sortBy === 'time' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                            <th onClick={() => {\n                                setSortBy('consumer');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Consumer {sortBy === 'consumer' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                            <th onClick={() => {\n                                setSortBy('provider');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Provider {sortBy === 'provider' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                            <th onClick={() => {\n                                setSortBy('typeOfService');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Type of service {sortBy === 'typeOfService' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                            <th onClick={() => {\n                                setSortBy('price');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Price/Amount {sortBy === 'price' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                            <th onClick={() => {\n                                setSortBy('txFee');\n                                if (orderOfSort === 'ascending') {\n                                    setOrderOfSort('descending');\n                                } if (orderOfSort === 'descending') {\n                                    setOrderOfSort('ascending');\n                                }\n                            }}>Tx Fee {sortBy === 'txFee' ? orderOfSort === 'ascending' ? <FaArrowUp/> : <FaArrowDown/> : \"\"}</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            tableDataArray.map((item) =>\n                                (\n                                    <tr key={item.id}>\n                                        <td>{item.createdAt}</td>\n                                        <td>{item.consumer}</td>\n                                        <td>{item.provider}</td>\n                                        <td>{item.typeOfService}</td>\n                                        <td>{item.price}</td>\n                                        <td>{item.txFee}</td>\n                                    </tr>\n                                )\n                            )\n                        }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default AllTransactionsTable","import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport PieChart from '../misc/PieChart';\nimport TransactionsTable from '../misc/TransactionsTable';\nimport AllTransactionsTable from '../misc/AllTransactionsTable';\nimport Axios from \"axios/index\";\n\n\n\nconst BlockchainData = () => {\n    const { gameData } = useGlobalContext();\n    const [chartDataArray, setChartDataArray] = useState([]);\n    const [relativeStake, setRelativeStake] = useState(0);\n    const [newStake, setNewStake] = useState(\"0\");\n    const [txFee, setTxFee] = useState(\"0\");\n    const [showAlert, setShowAlert] = useState(false);\n    const [alertContent, setAlertContent] = useState('');\n\n    const countDecimals = (value) => {\n        if(Math.floor(value).toString() === value) return 0;\n        return value.toString().split(\".\")[1].length || 0;\n    };\n\n    const confirmStake = async () => {\n        try {\n            if ((txFee === undefined || txFee === \"\") || (newStake === undefined || newStake === \"\")) {\n                setAlertContent('You must enter a value');\n                setShowAlert(true);\n            } else {\n                if ((isNaN(txFee) || txFee < 0) || (isNaN(newStake) || newStake < 0)) {\n                    setAlertContent('Amount and tx fee cannot be a negative number');\n                    setShowAlert(true);\n                } else {\n                    if (countDecimals(txFee) > 0 || countDecimals(newStake) > 0)  {\n                        setAlertContent('Input value must be an integer');\n                        setShowAlert(true);\n                    } else {\n                        if (parseInt(newStake) + parseInt(txFee) > gameData.player.balance) {\n                            setAlertContent('Amount + TxFee is bigger than balance');\n                            setShowAlert(true);\n                        } else {\n                            const token = localStorage.getItem(\"auth-token\");\n                            const playerId = localStorage.getItem(\"playerId\");\n                            const data = {\n                                stake: newStake,\n                                txFee: txFee\n                            };\n                            const options = {\n                                headers: {\n                                    Authorization: \"Bearer \" + token\n                                }\n                            };\n                            const confirmRes =  await Axios.post(`/player/stake/${playerId}`, data, options);\n                            setNewStake(\"0\");\n                            setAlertContent('');\n                            setShowAlert(false);\n                            setTxFee(\"0\");\n                            document.getElementById(\"inputHolder\").value= \"\";\n                            document.getElementById(\"amountHolder\").value= \"\";\n                        }\n                    }\n                }\n            }\n\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    const confirmUnstake = async () => {\n        try {\n            if ((txFee === undefined || txFee === \"\") || (newStake === undefined || newStake === \"\")) {\n                setAlertContent('You must enter a value');\n                setShowAlert(true);\n            } else {\n                if ((isNaN(txFee) || txFee < 0) || (isNaN(newStake) || newStake <= 0)) {\n                    setAlertContent('Amount and tx fee cannot be a negative number');\n                    setShowAlert(true);\n                } else {\n                    if (countDecimals(txFee) > 0 || countDecimals(newStake) > 0) {\n                        setAlertContent('Input value must be an integer');\n                        setShowAlert(true);\n                    } else {\n                        if ((parseInt(newStake) + 1) > gameData.player.stake) {\n                            setAlertContent('Amount is bigger than your stake (minimum value is 1)');\n                            setShowAlert(true);\n                        } else {\n                            const token = localStorage.getItem(\"auth-token\");\n                            const playerId = localStorage.getItem(\"playerId\");\n                            const data = {\n                                unstake: newStake,\n                                txFee: txFee\n                            };\n                            const options = {\n                                headers: {\n                                    Authorization: \"Bearer \" + token\n                                }\n                            };\n                            const confirmRes =  await Axios.post(`/player/unstake/${playerId}`, data, options);\n                            setNewStake(\"0\");\n                            setAlertContent('');\n                            setShowAlert(false);\n                            setTxFee(\"0\");\n                            document.getElementById(\"inputHolder\").value= \"\";\n                            document.getElementById(\"amountHolder\").value= \"\";\n                        }\n                    }\n                }\n            }\n\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    const changeStakeInput = async (e) => {\n        try {\n            if (e.target.value === \"\") {\n                setNewStake(\"0\");\n            } else {\n                setNewStake(e.target.value)\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    const changeFeeInput = async (e) => {\n        try {\n            if (e.target.value === \"\") {\n                setTxFee(\"0\");\n            } else {\n                setTxFee(e.target.value)\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    useEffect(() => {\n        const createDataArray = async () => {\n            const dataArray = await gameData.players.map((item) => {\n                return({\n                    id: item.playerName,\n                    value: item.stake\n                });\n            });\n            setChartDataArray(dataArray);\n        };\n        createDataArray();\n        let newRelativeStake = ((gameData.player.stake / gameData.totalStake) * 100).toFixed(1);\n        setRelativeStake(newRelativeStake);\n    }, [gameData]);\n\n\n\n    return (\n        <>\n            <div className=\"blockchain-container\">\n                <div className=\"blockchain-info-container\">\n                    <TransactionsTable/>\n                    <div className=\"piechart-container\">\n                        <div className=\"piechart-container-text\">\n                            <h3>Blockchain - stake</h3>\n                            <h4>Your stake: {gameData.player.stake} ({relativeStake}%)</h4>\n                        </div>\n                        <div className=\"piechart-container-chart-stake\">\n                            <div className=\"piechart-container-chart\">\n                                <PieChart data={chartDataArray}/>\n                            </div>\n                            <div className=\"stake-input-container\">\n                                <div className={\"modal-input-group\"}>\n                                    <label htmlFor={\"Amount\"}>Amount</label>\n                                    <div className=\"modal-input-group-container\">\n                                        <input style={{backgroundColor: \"#dbdbdb\"}} type={\"text\"} name={\"amount\"} id={\"amountHolder\"} placeholder={\"Enter amount\"} onChange={e => changeStakeInput(e)}/>\n                                    </div>\n                                </div>\n                                <div className={\"modal-input-group\"}>\n                                    <label htmlFor={\"txFee\"}>Tx Fee</label>\n                                    <div className=\"modal-input-group-container\">\n                                        <input style={{backgroundColor: \"#dbdbdb\"}} type={\"text\"} name={\"txFee\"} id={\"inputHolder\"} placeholder={\"Enter tx fee\"} onChange={e => changeFeeInput(e)}/>\n                                    </div>\n                                </div>\n                                <div className={`${showAlert? 'modal-input-alert show-modal-input-alert' : 'modal-input-alert'}`}>\n                                    {alertContent}\n                                </div>\n                                <button className='confirm-stake-btn' onClick={() => confirmStake()}>Stake</button>\n                                <button className='confirm-unstake-btn' onClick={() => confirmUnstake()}>Unstake</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"all-transactions-container\">\n                    <h3>Transactions History</h3>\n                    <AllTransactionsTable/>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default BlockchainData","import React from 'react'\nimport { useGlobalContext} from \"../../context/context\";\nimport { FaTimes } from 'react-icons/fa';\nimport Axios from \"axios/index\";\n\nconst ConfirmModal = () => {\n    const { isConfirmModalOpen, closeConfirmModal, confirmModalContent } = useGlobalContext();\n\n    const confirm = async () => {\n        try {\n            const token = localStorage.getItem(\"auth-token\");\n            const playerId = localStorage.getItem(\"playerId\");\n            if (confirmModalContent.type === \"cancel transaction\") {\n                const confirmRes =  await Axios.delete(`/player/cancelTransaction/${playerId}`, {\n                    headers: {\n                        Authorization: \"Bearer \" + token\n                    },\n                    data: {\n                        transactionId: confirmModalContent.id\n                    }\n                });\n            }\n            if (confirmModalContent.type === \"cancel trade\") {\n                const confirmRes =  await Axios.delete(`/player/cancelTrade/${playerId}`, {\n                    headers: {\n                        Authorization: \"Bearer \" + token\n                    },\n                    data: {\n                        tradeId: confirmModalContent.id\n                    }\n                });\n            }\n            if (confirmModalContent.type === \"accept trade\") {\n                const data = {\n                    tradeId: confirmModalContent.id\n                };\n                const options = {\n                    headers: {\n                        Authorization: \"Bearer \" + token\n                    }\n                };\n                const confirmRes =  await Axios.post(`/player/acceptTrade/${playerId}`, data, options);\n            }\n            if (confirmModalContent.type === \"reject trade\") {\n                const confirmRes =  await Axios.delete(`/player/rejectTrade/${playerId}`, {\n                    headers: {\n                        Authorization: \"Bearer \" + token\n                    },\n                    data: {\n                        tradeId: confirmModalContent.id\n                    }\n                });\n            }\n            closeConfirmModal();\n        } catch(err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <div\n            className={`${\n                isConfirmModalOpen ? 'modal-confirm-overlay show-modal-confirm' : 'modal-confirm-overlay'\n                }`}\n        >\n            <div className='modal-confirm-container'>\n                <h3>Are you sure you want to {confirmModalContent.type}:</h3>\n                <ul>\n                    <li>Consumer: {confirmModalContent.consumer}</li>\n                    <li>Provider: {confirmModalContent.provider}</li>\n                    <li>typeOfService: {confirmModalContent.typeOfService}</li>\n                    <li>price: {confirmModalContent.price}</li>\n                    <li>txFee: {confirmModalContent.txFee}</li>\n                </ul>\n                <button className='close-modal-btn' onClick={closeConfirmModal}>\n                    <FaTimes></FaTimes>\n                </button>\n                <button className='confirm-modal-btn' onClick={confirm}>Confirm</button>\n            </div>\n        </div>\n    )\n};\n\nexport default ConfirmModal","import React, { useEffect } from 'react';\nimport {useGlobalContext} from \"../../context/context\";\n\nimport Sidebar from '../layout/Sidebar';\nimport Modal from '../misc/Modal';\nimport BlockchainData from '../misc/BlockchainData';\nimport ConfirmModal from '../misc/ConfirmModal';\n\n\nconst Blockchain = () => {\n    const { gameData, isGameOn, setModalContent } = useGlobalContext();\n\n\n    useEffect(() => {\n        const checkLoggedInAndGame = async () => {\n            let token = localStorage.getItem(\"auth-token\");\n            let playerId = localStorage.getItem(\"playerId\");\n            if (token !== (null || \"\") && playerId !== (null || \"\")) {\n                if (!isGameOn) {\n                    setModalContent('Wait for the admin to start the game!');\n                }\n            } else {\n                setModalContent('Please log in!');\n            }\n        };\n        checkLoggedInAndGame();\n    }, []);\n\n    return (\n        <div>\n            <div>\n                {\n                    gameData.player ? (\n                        <div>\n                            {\n                                isGameOn ? (\n                                    <div>\n                                        <div className=\"home-grid\">\n                                            <div className=\"item-sidebar\">\n                                                <Sidebar/>\n                                            </div>\n                                            <div className=\"item-content\">\n                                                <BlockchainData/>\n                                            </div>\n                                        </div>\n                                        <ConfirmModal/>\n                                    </div>\n                                ) : (\n                                    <>\n                                        <Modal/>\n                                    </>\n                                )\n                            }\n                        </div>\n\n                    ) : (\n                        <>\n                            <Modal/>\n                        </>\n                    )\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Blockchain","import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst RankingTable = () => {\n    const { gameData,  } = useGlobalContext();\n    const [tableDataArray, setTableDataArray] = useState([]);\n\n    useEffect(() => {\n        const renderTableData = async () => {\n            const players = await gameData.players.sort((a, b) => parseInt(b.upgradeNumber) - parseInt(a.upgradeNumber));\n            setTableDataArray(players);\n        };\n        renderTableData();\n    }, [gameData]);\n\n\n    return (\n        <>\n            <div className=\"ranking-container\">\n                <div className=\"table-all-transactions-container\">\n                    <h2>Players Ranking</h2>\n                    <div className=\"table-ranking\">\n                        <table className=\"table-all-rankings\">\n                            <thead>\n                            <tr>\n                                <th>Rank</th>\n                                <th>Player</th>\n                                <th>Type of service</th>\n                                <th>Number of upgrades</th>\n                                <th>Balance</th>\n                                <th>Revenue from trade</th>\n                                <th>Revenue from stake</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {\n                                tableDataArray.map((item, index) => (\n                                    <tr\n                                        key={item._id}\n                                        style={{background: `${item.playerName === gameData.player.playerName ? '#fffd6c' : ''}`}}\n                                    >\n                                        <td><strong>{index + 1}</strong></td>\n                                        <td>{item.playerName}</td>\n                                        <td>{item.typeOfService}</td>\n                                        <td>{item.upgradeNumber}</td>\n                                        <td>{item.balance}</td>\n                                        <td>{item.fromServiceBalance}</td>\n                                        <td>{item.fromStakeBalance}</td>\n                                    </tr>\n                                ))\n                            }\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default RankingTable","import React, { useEffect } from 'react';\nimport {useGlobalContext} from \"../../context/context\";\n\nimport Sidebar from '../layout/Sidebar';\nimport Modal from '../misc/Modal';\nimport RankingTable from '../misc/RankingTable'\n\n\nconst Ranking = () => {\n    const { gameData, isGameOn, setModalContent} = useGlobalContext();\n\n\n    useEffect(() => {\n        const checkLoggedInAndGame = async () => {\n            let token = localStorage.getItem(\"auth-token\");\n            let playerId = localStorage.getItem(\"playerId\");\n            if ((token === null || token === \"\") && (playerId === null || playerId === \"\")) {\n                setModalContent('Please log in!');\n            } else {\n                if (!isGameOn) {\n                    setModalContent('Wait for the admin to start the game!');\n                }\n            }\n        };\n        checkLoggedInAndGame();\n    }, []);\n\n    return (\n        <div>\n            <div>\n                {\n                    gameData.player ? (\n                        <div>\n                            {\n                                isGameOn ? (\n                                    <div>\n                                        <div className=\"home-grid\">\n                                            <div className=\"item-sidebar\">\n                                                <Sidebar/>\n                                            </div>\n                                            <div className=\"item-content\">\n                                                <RankingTable/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <>\n                                        <Modal/>\n                                    </>\n                                )\n                            }\n                        </div>\n\n                    ) : (\n                        <>\n                            <Modal/>\n                        </>\n                    )\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Ranking","import React from 'react';\n\n\nconst Error = () => {\n\n    return (\n        <div>\n            <h1>Ups something went wrong!</h1>\n        </div>\n    )\n};\n\nexport default Error","import React, { useState, useEffect, useCallback } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport {useGlobalContext} from \"./context/context\";\nimport { io } from 'socket.io-client';\n\nimport Navbar from './components/layout/Navbar';\nimport Home from './components/pages/Home';\nimport Login from \"./components/auth/Login\";\nimport Trade from './components/pages/Trade';\nimport Blockchain from './components/pages/Blockchain';\nimport Ranking from './components/pages/Ranking';\nimport Error from './components/pages/Error';\nimport Axios from \"axios/index\";\n\nAxios.defaults.baseURL = 'https://sharedmanufacturing.ldse.si:8000';\n//Axios.defaults.baseURL = 'http://localhost:8000';\n\nfunction App() {\n    const { setIsGameOn, setGameData, gameData, openAlert } = useGlobalContext();\n    const [socket, setSocket] = useState();\n\n    const socketConnected = useCallback(() => {\n        try {\n            const playerId = localStorage.getItem(\"playerId\");\n            const sessionID = socket.id;\n            socket.emit(\"query\", sessionID, playerId);\n        } catch (err) {\n            if (err.response !== undefined && err.response.data.message === \"Auth failed\") {\n                localStorage.setItem(\"auth-token\", \"\");\n                localStorage.setItem(\"playerId\", \"\");\n                window.location.reload(false);\n            }\n        }\n    }, [socket]);\n\n    const initialData = useCallback(async (data) => {\n        try {\n            const token = localStorage.getItem(\"auth-token\");\n            setGameData({\n                token,\n                player: data.player,\n                orders: data.orders,\n                allPendingTransactions: data.allPendingTransactions,\n                services: data.services,\n                totalStake: data.totalStake,\n                players: data.players,\n                allTransactions: data.allTransactions,\n                miningTime: data.miningTime\n            });\n            setIsGameOn(data.isGameOn);\n        } catch (err) {\n            console.log(err);\n        }\n    }, [setGameData, setIsGameOn]);\n\n    const startGame = useCallback(async (data) => {\n        try {\n            setIsGameOn(true);\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.miningTime = data;\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData, setGameData, setIsGameOn]);\n\n    const endGame = useCallback(async () => {\n        try {\n            setIsGameOn(false);\n        } catch (err) {\n            console.log(err);\n        }\n    }, [setIsGameOn]);\n\n    const createOrder = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.orders.push(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, []);\n\n    const deleteOrder = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.orders = newData.orders.filter( obj => obj._id !== data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData, setGameData]);\n\n    const updateBalance = useCallback(async (value, id, type, amount) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                if (newData.player._id === id) {\n                    newData.player.balance = parseInt(value);\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    if (type === \"stake\") {\n                        newData.player.fromStakeBalance = parseInt(amount);\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value), fromStakeBalance: parseInt(amount)};\n                    } else if (type === \"trade\") {\n                        newData.player.fromServiceBalance = parseInt(amount);\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value), fromServiceBalance: parseInt(amount)};\n                    } else {\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value)};\n                    }\n                    newData.players = newArray;\n                } else {\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    if (type === \"stake\") {\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value), fromStakeBalance: parseInt(amount)};\n                    } else if (type === \"trade\") {\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value), fromServiceBalance: parseInt(amount)};\n                    } else {\n                        newArray[elementsIndex] = {...newArray[elementsIndex], balance: parseInt(value)};\n                    }\n                    newData.players = newArray;\n                }\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const deleteTransaction = useCallback(async (data, intended) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                const transaction = newData.allPendingTransactions.filter( obj => obj._id === data);\n                if ((transaction[0].consumer === newData.player._id) && !intended)  {\n                    openAlert();\n                }\n                newData.allPendingTransactions = newData.allPendingTransactions.filter( obj => obj._id !== data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData, setGameData]);\n\n    const createTransaction = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                const found = prevState.allPendingTransactions.some(el => el._id === data._id);\n                if (!found) {\n                    let newData = {...prevState};\n                    newData.allPendingTransactions.push(data);\n                    return newData;\n                } else {\n                    return {...prevState};\n                }\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const createService = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.services.push(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, []);\n\n    const deleteService = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.services = newData.services.filter( obj => obj._id !== data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData, setGameData]);\n\n    const updateAvailableService = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.amountOfAvailableService = parseInt(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateOtherService1 = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.amountOfOtherService1 = parseInt(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateOtherService2 = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.amountOfOtherService2 = parseInt(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateStake = useCallback(async (id, value) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                if (newData.player._id === id) {\n                    newData.player.stake = parseInt(value);\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    newArray[elementsIndex] = {...newArray[elementsIndex], stake: parseInt(value)};\n                    newData.players = newArray;\n                    newData.totalStake = newArray.reduce((total, current) => total + current.stake, 0);\n                } else {\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    newArray[elementsIndex] = {...newArray[elementsIndex], stake: parseInt(value)};\n                    newData.players = newArray;\n                }\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateTime = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.miningTime = parseInt(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const initialTime = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.nextTimeForService = data;\n                newData.player.initialTimeForService = newData.player.timeForService;\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateServiceTime = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.serviceTimestamp = data;\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateProduction = useCallback(async (newTimeForService, newNextTimeForService, upgradeNumber, service1, service2) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.player.timeForService = newTimeForService;\n                newData.player.nextTimeForService = newNextTimeForService;\n                newData.player.upgradeNumber = upgradeNumber;\n                newData.player.amountOfOtherService1 = service1;\n                newData.player.amountOfOtherService2 = service2;\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const addAllTransaction = useCallback(async (data) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                newData.allTransactions.push(data);\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n    const updateUpgrade = useCallback(async (id, value) => {\n        try {\n            setGameData(prevState => {\n                let newData = {...prevState};\n                if (newData.player._id === id) {\n                    newData.player.upgradeNumber = value;\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    newArray[elementsIndex] = {...newArray[elementsIndex], upgradeNumber: value};\n                    newData.players = newArray;\n                } else {\n                    const elementsIndex = newData.players.findIndex(el => el._id === id );\n                    let newArray = [...newData.players];\n                    newArray[elementsIndex] = {...newArray[elementsIndex], upgradeNumber: value};\n                    newData.players = newArray;\n                }\n                return newData;\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }, [gameData]);\n\n\n    useEffect(() => {\n        const connectSocket = async () => {\n            const token = await localStorage.getItem(\"auth-token\");\n            const playerId = await localStorage.getItem(\"playerId\");\n            if (!((token === null || token === \"\") && (playerId === null || playerId === \"\"))) {\n                const newSocket = io('https://sharedmanufacturing.ldse.si:8000', {\n                    query: {\n                        playerId: playerId\n                    },\n                    auth: {\n                        token: token\n                    }\n                });\n                /*const newSocket = io('localhost:8000', {\n                    query: {\n                        playerId: playerId\n                    },\n                    auth: {\n                        token: token\n                    }\n                });*/\n                setSocket(newSocket);\n                return () => newSocket.close();\n            }\n        };\n        connectSocket();\n    }, []);\n\n\n    useEffect(() => {\n        if (socket == null) return;\n        socket.on('connect', socketConnected);\n        socket.on('data', initialData);\n        socket.on('start', startGame);\n        socket.on('end', endGame);\n        socket.on(\"create_order\", createOrder);\n        socket.on(\"delete_order\", deleteOrder);\n        socket.on(\"update_balance\", updateBalance);\n        socket.on(\"delete_transaction\", deleteTransaction);\n        socket.on(\"create_transaction\", createTransaction);\n        socket.on(\"create_service\", createService);\n        socket.on(\"delete_service\", deleteService);\n        socket.on(\"update_available_service\", updateAvailableService);\n        socket.on(\"update_other_service1\", updateOtherService1);\n        socket.on(\"update_other_service2\", updateOtherService2);\n        socket.on(\"update_stake\", updateStake);\n        socket.on(\"update_time\", updateTime);\n        socket.on(\"initial_time\", initialTime);\n        socket.on(\"update_service_time\", updateServiceTime);\n        socket.on(\"update_production\", updateProduction);\n        socket.on(\"add_allTransaction\", addAllTransaction);\n        socket.on(\"update_upgrade\", updateUpgrade);\n        return () => {\n            socket.off('connect');\n            socket.off('data');\n            socket.off('start');\n            socket.off('end');\n            socket.off('create_order');\n            socket.off('delete_order');\n            socket.off('update_balance');\n            socket.off('delete_transaction');\n            socket.off('create_transaction');\n            socket.off('create_service');\n            socket.off('delete_service');\n            socket.off('update_available_service');\n            socket.off('update_other_service1');\n            socket.off('update_other_service2');\n            socket.off('update_stake');\n            socket.off('update_time');\n            socket.off('initial_time');\n            socket.off('update_service_time');\n            socket.off('update_production');\n            socket.off('add_allTransaction');\n            socket.off('update_upgrade');\n        }\n    }, [socket,\n        gameData,\n        socketConnected,\n        initialData,\n        startGame,\n        endGame,\n        createOrder,\n        deleteOrder,\n        updateBalance,\n        deleteTransaction,\n        createTransaction,\n        createService,\n        deleteService,\n        updateAvailableService,\n        updateOtherService1,\n        updateOtherService2,\n        updateStake,\n        updateTime,\n        initialTime,\n        updateServiceTime,\n        updateProduction,\n        addAllTransaction,\n        updateUpgrade]\n    );\n\n    return (\n        <>\n            <Router>\n                <Navbar/>\n                <Switch>\n                    <Route exact path={\"/\"} component={Home} />\n                    <Route path={\"/login\"} component={Login}/>\n                    <Route path={\"/trade\"} component={Trade}/>\n                    <Route path={\"/blockchain\"} component={Blockchain}/>\n                    <Route path={\"/ranking\"} component={Ranking}/>\n                    <Route path={\"*\"} component={Error}/>\n                </Switch>\n            </Router>\n        </>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {AppProvider} from \"./context/context\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <AppProvider>\n            <App/>\n        </AppProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}