{"ast":null,"code":"var _jsxFileName = \"/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/Trades.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useGlobalContext } from \"../../context/context\";\nimport BarChart from '../misc/BarChart';\n\nconst Trades = () => {\n  const {\n    gameData\n  } = useGlobalContext();\n  const [dataArray1, setDataArray1] = useState([]);\n  const [dataArray2, setDataArray2] = useState([]);\n  useEffect(() => {\n    const sortDataArrays = async () => {\n      let array1 = await gameData.otherPrices.filter(item => item.typeOfService === gameData.player.typeOfOtherService1);\n      let array2 = await gameData.otherPrices.filter(item => item.typeOfService === gameData.player.typeOfOtherService2);\n      await array1.filter(item => item.price !== \"undefined\");\n      await array2.filter(item => item.price !== \"undefined\");\n      const maxTxFee = await Math.max.apply(Math, gameData.allPendingTransactions.map(function (transaction) {\n        return transaction.txFee;\n      }));\n      await array1.forEach(item => {\n        item.price = parseInt(item.price);\n        item.maxTxFee = maxTxFee;\n      });\n      await array2.forEach(item => {\n        item.price = parseInt(item.price);\n        item.maxTxFee = maxTxFee;\n      });\n      await array1.sort((a, b) => parseInt(a.price) - parseInt(b.price));\n      await array2.sort((a, b) => parseInt(a.price) - parseInt(b.price));\n      setDataArray1(array1);\n      setDataArray2(array2);\n    };\n\n    sortDataArrays();\n  }, [gameData]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trades-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, \"Service \", `${gameData.player.typeOfOtherService1}`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container-chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: dataArray1,\n    scheme: 'paired',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, \"Service \", `${gameData.player.typeOfOtherService2}`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container-chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: dataArray2,\n    scheme: 'pink_yellowGreen',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Trades;","map":{"version":3,"sources":["/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/Trades.js"],"names":["React","useState","useEffect","useGlobalContext","BarChart","Trades","gameData","dataArray1","setDataArray1","dataArray2","setDataArray2","sortDataArrays","array1","otherPrices","filter","item","typeOfService","player","typeOfOtherService1","array2","typeOfOtherService2","price","maxTxFee","Math","max","apply","allPendingTransactions","map","transaction","txFee","forEach","parseInt","sort","a","b"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { useGlobalContext} from \"../../context/context\";\nimport BarChart from '../misc/BarChart';\n\n\nconst Trades = () => {\n    const { gameData } = useGlobalContext();\n    const [dataArray1, setDataArray1] = useState([]);\n    const [dataArray2, setDataArray2] = useState([]);\n\n    useEffect(() => {\n        const sortDataArrays = async () => {\n            let array1 = await gameData.otherPrices.filter(item => item.typeOfService === gameData.player.typeOfOtherService1);\n            let array2 = await gameData.otherPrices.filter(item => item.typeOfService === gameData.player.typeOfOtherService2);\n            await array1.filter(item => item.price !== \"undefined\");\n            await array2.filter(item => item.price !== \"undefined\");\n            const maxTxFee = await Math.max.apply(Math, gameData.allPendingTransactions.map(function(transaction) { return transaction.txFee; }));\n            await array1.forEach((item) => {\n                item.price = parseInt(item.price);\n                item.maxTxFee = maxTxFee\n            });\n            await array2.forEach((item) => {\n                item.price = parseInt(item.price);\n                item.maxTxFee = maxTxFee\n            });\n            await array1.sort((a, b) => parseInt(a.price) - parseInt(b.price));\n            await array2.sort((a, b) => parseInt(a.price) - parseInt(b.price));\n            setDataArray1(array1);\n            setDataArray2(array2);\n        };\n        sortDataArrays();\n    }, [gameData]);\n\n    return (\n        <>\n            <div className=\"trades-container\">\n                <div className=\"chart-container\">\n                    <div className=\"chart-container-text\">\n                        <h3>Service {`${gameData.player.typeOfOtherService1}`}</h3>\n                    </div>\n                    <div className=\"chart-container-chart\">\n                        <BarChart data={dataArray1} scheme={'paired'}/>\n                    </div>\n                </div>\n                <div className=\"chart-container\">\n                    <div className=\"chart-container-text\">\n                        <h3>Service {`${gameData.player.typeOfOtherService2}`}</h3>\n                    </div>\n                    <div className=\"chart-container-chart\">\n                        <BarChart data={dataArray2} scheme={'pink_yellowGreen'}/>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default Trades"]},"metadata":{},"sourceType":"module"}