{"ast":null,"code":"var _jsxFileName = \"/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/BlockchainData.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useGlobalContext } from \"../../context/context\";\nimport PieChart from '../misc/PieChart';\nimport TransactionsTable from '../misc/TransactionsTable';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\n\nconst BlockchainData = () => {\n  const {\n    gameData,\n    openStakeModal\n  } = useGlobalContext();\n  const [chartDataArray, setChartDataArray] = useState([]);\n  useEffect(() => {\n    const createDataArray = async () => {\n      const dataArray = await gameData.players.map(item => {\n        return {\n          id: item.playerName,\n          value: parseInt(item.stake)\n        };\n      });\n      setChartDataArray(dataArray);\n    };\n\n    createDataArray();\n  }, [gameData]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockchain-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockchain-info-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TransactionsTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"piechart-container\",\n    onClick: openStakeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"piechart-container-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 29\n    }\n  }, \"Blockchain - stake\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"piechart-container-chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(PieChart, {\n    data: chartDataArray,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-confirm-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, \"Stake: \", gameData.player.stake, \" (\", relativeStake, \"%)\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stake-modal-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"decrease-stake-btn\",\n    onClick: decreaseNewStake,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FaMinus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 41\n    }\n  }, newStake)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"increase-stake-btn\",\n    onClick: increaseNewStake,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FaPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 45\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"txFee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 37\n    }\n  }, \"Tx Fee\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-input-group-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"txFee\",\n    id: \"inputHolder\",\n    placeholder: \"Enter tx fee\",\n    onChange: e => setTxFee(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${showAlert ? 'modal-input-alert show-modal-input-alert' : 'modal-input-alert'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 33\n    }\n  }, alertContent), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"confirm-modal-btn\",\n    onClick: confirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, \"Confirm\")))))));\n};\n\nexport default BlockchainData;","map":{"version":3,"sources":["/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/BlockchainData.js"],"names":["React","useState","useEffect","useGlobalContext","PieChart","TransactionsTable","FaPlus","FaMinus","BlockchainData","gameData","openStakeModal","chartDataArray","setChartDataArray","createDataArray","dataArray","players","map","item","id","playerName","value","parseInt","stake","player","relativeStake","decreaseNewStake","newStake","increaseNewStake","e","setTxFee","target","showAlert","alertContent","confirm"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useGlobalContext} from \"../../context/context\";\nimport PieChart from '../misc/PieChart';\nimport TransactionsTable from '../misc/TransactionsTable';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\n\n\n\nconst BlockchainData = () => {\n    const { gameData, openStakeModal } = useGlobalContext();\n    const [chartDataArray, setChartDataArray] = useState([]);\n\n    useEffect(() => {\n        const createDataArray = async () => {\n            const dataArray = await gameData.players.map((item) => {\n                return({\n                    id: item.playerName,\n                    value: parseInt(item.stake)\n                });\n            });\n            setChartDataArray(dataArray);\n        };\n        createDataArray();\n    }, [gameData]);\n\n    return (\n        <>\n            <div className=\"blockchain-container\">\n                <div className=\"blockchain-info-container\">\n                    <TransactionsTable/>\n                    <div className=\"piechart-container\" onClick={openStakeModal}>\n                        <div className=\"piechart-container-text\">\n                            <h3>Blockchain - stake</h3>\n                        </div>\n                        <div className=\"piechart-container-chart\">\n                            <PieChart data={chartDataArray}/>\n                            <div className='modal-confirm-container'>\n                                <h3>Stake: {gameData.player.stake} ({relativeStake}%)</h3>\n                                <div className=\"stake-modal-container\">\n                                    <div>\n                                        <button className='decrease-stake-btn' onClick={decreaseNewStake}>\n                                            <FaMinus></FaMinus>\n                                        </button>\n                                    </div>\n                                    <div>\n                                        <h1>{newStake}</h1>\n                                    </div>\n                                    <div>\n                                        <button className='increase-stake-btn' onClick={increaseNewStake}>\n                                            <FaPlus></FaPlus>\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className={\"modal-input-group\"}>\n                                    <label htmlFor={\"txFee\"}>Tx Fee</label>\n                                    <div className=\"modal-input-group-container\">\n                                        <input type={\"text\"} name={\"txFee\"} id={\"inputHolder\"} placeholder={\"Enter tx fee\"} onChange={e => setTxFee(e.target.value)}/>\n                                    </div>\n                                </div>\n                                <div className={`${showAlert? 'modal-input-alert show-modal-input-alert' : 'modal-input-alert'}`}>\n                                    {alertContent}\n                                </div>\n                                <button className='confirm-modal-btn' onClick={confirm}>Confirm</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n};\n\nexport default BlockchainData"]},"metadata":{},"sourceType":"module"}