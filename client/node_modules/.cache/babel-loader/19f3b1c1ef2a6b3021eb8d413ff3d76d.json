{"ast":null,"code":"var _jsxFileName = \"/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/BarChart.js\";\nimport React from 'react';\nimport { ResponsiveBar } from '@nivo/bar';\nimport { useGlobalContext } from \"../../context/context\";\n\nconst BarChart = ({\n  dataArray,\n  modifiedData\n}) => {\n  const {\n    gameData,\n    openTradeModal,\n    setTradeModalContent,\n    openCancelOrderModal,\n    setCancelOrderModalContent\n  } = useGlobalContext();\n\n  const setTradeModal = data => {\n    if (data.typeOfService !== gameData.player.typeOfService) {\n      const realData = dataArray.filter(item => item._id === data._id);\n\n      if (!(!Array.isArray(realData) || !realData.length)) {\n        setTradeModalContent(realData[0]);\n        openTradeModal();\n      }\n    } else {\n      if (data.playerName === gameData.player.playerName) {\n        const realData = dataArray.filter(item => item._id === data._id);\n\n        if (!(!Array.isArray(realData) || !realData.length)) {\n          setCancelOrderModalContent(realData[0]);\n          openCancelOrderModal();\n        }\n      }\n    }\n  };\n\n  const mouseHover = (data, event) => {\n    if (data.typeOfService !== gameData.player.typeOfService) {\n      event.target.style.cursor = 'pointer';\n    } else {\n      if (data.playerName === gameData.player.playerName) {\n        event.target.style.cursor = 'pointer';\n      }\n    }\n  };\n\n  const renderLabel = data => {\n    const realData = dataArray.filter(item => item._id === data._id);\n\n    if (!(!Array.isArray(realData) || !realData.length)) {\n      return realData[0].price.toString();\n    }\n  };\n\n  const renderTooltip = data => {\n    const realData = dataArray.filter(item => item._id === data._id);\n\n    if (!(!Array.isArray(realData) || !realData.length)) {\n      return realData[0].price.toString();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ResponsiveBar, {\n    data: modifiedData,\n    onClick: data => setTradeModal(data.data),\n    onMouseEnter: (data, event) => mouseHover(data.data, event),\n    keys: ['price'],\n    indexBy: \"playerName\",\n    margin: {\n      top: 10,\n      right: 20,\n      bottom: 50,\n      left: 70\n    },\n    padding: 0.25,\n    valueScale: {\n      type: 'symlog'\n    },\n    theme: {\n      \"fontSize\": 14,\n      fontFamily: \"Roboto, sans-serif\",\n      axis: {\n        legend: {\n          text: {\n            fontSize: \"16px\",\n            fontWeight: \"bold\",\n            fontFamily: \"Roboto, sans-serif\"\n          }\n        }\n      }\n    },\n    colors: d => d.data.color,\n    borderColor: {\n      from: 'color',\n      modifiers: [['darker', 1.6]]\n    },\n    axisTop: null,\n    axisRight: null,\n    axisBottom: {\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0\n    },\n    axisLeft: {\n      tickSize: 5,\n      tickPadding: 5,\n      tickRotation: 0,\n      legend: 'PRICE',\n      legendPosition: 'middle',\n      legendOffset: -50,\n      tickValues: 5\n    },\n    tooltip: ({\n      data,\n      id\n    }) => {\n      return /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }, id, \" - \", data.playerName, \": \", renderTooltip(data));\n    },\n    label: data => renderLabel(data.data),\n    labelSkipWidth: 12,\n    labelSkipHeight: 12,\n    labelTextColor: \"white\",\n    animate: false,\n    motionStiffness: 90,\n    motionDamping: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default BarChart;","map":{"version":3,"sources":["/home/nejc/LDSE/SharedManufacturing/client/src/components/misc/BarChart.js"],"names":["React","ResponsiveBar","useGlobalContext","BarChart","dataArray","modifiedData","gameData","openTradeModal","setTradeModalContent","openCancelOrderModal","setCancelOrderModalContent","setTradeModal","data","typeOfService","player","realData","filter","item","_id","Array","isArray","length","playerName","mouseHover","event","target","style","cursor","renderLabel","price","toString","renderTooltip","top","right","bottom","left","type","fontFamily","axis","legend","text","fontSize","fontWeight","d","color","from","modifiers","tickSize","tickPadding","tickRotation","legendPosition","legendOffset","tickValues","id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { ResponsiveBar } from '@nivo/bar';\nimport { useGlobalContext} from \"../../context/context\";\n\nconst BarChart = ({dataArray, modifiedData}) => {\n    const { gameData, openTradeModal, setTradeModalContent, openCancelOrderModal, setCancelOrderModalContent } = useGlobalContext();\n\n    const setTradeModal = (data) => {\n        if (data.typeOfService !== gameData.player.typeOfService) {\n            const realData = dataArray.filter(item => item._id === data._id);\n            if (!(!Array.isArray(realData) || !realData.length)) {\n                setTradeModalContent(realData[0]);\n                openTradeModal();\n            }\n        } else {\n            if (data.playerName === gameData.player.playerName) {\n                const realData = dataArray.filter(item => item._id === data._id);\n                if (!(!Array.isArray(realData) || !realData.length)) {\n                    setCancelOrderModalContent(realData[0]);\n                    openCancelOrderModal();\n                }\n            }\n        }\n    };\n\n    const mouseHover = (data, event) => {\n        if (data.typeOfService !== gameData.player.typeOfService) {\n            event.target.style.cursor = 'pointer';\n        } else {\n            if (data.playerName === gameData.player.playerName) {\n                event.target.style.cursor = 'pointer';\n            }\n        }\n    };\n\n    const renderLabel = (data) => {\n        const realData = dataArray.filter(item => item._id === data._id);\n        if (!(!Array.isArray(realData) || !realData.length)) {\n            return realData[0].price.toString();\n        }\n    };\n\n    const renderTooltip = (data) => {\n        const realData = dataArray.filter(item => item._id === data._id);\n        if (!(!Array.isArray(realData) || !realData.length)) {\n            return realData[0].price.toString();\n        }\n    };\n\n    return (\n        <ResponsiveBar\n            data={modifiedData}\n            onClick={(data) => setTradeModal(data.data)}\n            onMouseEnter={(data, event) => mouseHover(data.data, event)}\n            keys={[ 'price' ]}\n            indexBy=\"playerName\"\n            margin={{ top: 10, right: 20, bottom: 50, left: 70 }}\n            padding={0.25}\n            valueScale={{ type: 'symlog'}}\n            theme={{ \"fontSize\": 14, fontFamily: \"Roboto, sans-serif\", axis: { legend: { text: { fontSize: \"16px\", fontWeight: \"bold\", fontFamily: \"Roboto, sans-serif\" } } } }}\n            colors={d => d.data.color}\n            borderColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n            axisTop={null}\n            axisRight={null}\n            axisBottom={{\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n            }}\n            axisLeft={{\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'PRICE',\n                legendPosition: 'middle',\n                legendOffset: -50,\n                tickValues: 5\n            }}\n            tooltip={({ data, id }) => {\n                return (\n                    <strong>\n                        {id} - {data.playerName}: {renderTooltip(data)}\n                    </strong>\n                )\n            }}\n            label={(data) => renderLabel(data.data)}\n            labelSkipWidth={12}\n            labelSkipHeight={12}\n            labelTextColor=\"white\"\n            animate={false}\n            motionStiffness={90}\n            motionDamping={15}\n        />\n    )\n};\n\n\nexport default BarChart"]},"metadata":{},"sourceType":"module"}